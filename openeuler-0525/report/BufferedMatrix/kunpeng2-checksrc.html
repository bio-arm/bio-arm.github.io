<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>Build/check report for BioC 3.18 - CHECK results for BufferedMatrix on kunpeng2</TITLE>
<LINK rel="stylesheet" href="../report.css" type="text/css">
<SCRIPT type="text/javascript" src="../report.js"></SCRIPT>
</HEAD>
<BODY onLoad="initialize();">
<TABLE class="grid_layout" style="width: 100%; background: #EEE;"><TR><TD style="text-align: left; padding: 5px; vertical-align: middle;"><I>Back to <B>Build/check report for BioC 3.18</B>:&nbsp;&nbsp;&nbsp;<A href="../">simplified</A>&nbsp;&nbsp;&nbsp;<A href="../long-report.html">long</A></I></TD><TD><TABLE class="abc_dispatcher"><TR><TD><A href="..#A">A</A></TD><TD><B>[<A href="..#B">B</A>]</B></TD><TD><A href="..#C">C</A></TD><TD><A href="..#D">D</A></TD><TD><A href="..#E">E</A></TD><TD><A href="..#F">F</A></TD><TD><A href="..#G">G</A></TD><TD><A href="..#H">H</A></TD><TD><A href="..#I">I</A></TD><TD><A href="..#J">J</A></TD><TD><A href="..#K">K</A></TD><TD><A href="..#L">L</A></TD><TD><A href="..#M">M</A></TD><TD><A href="..#N">N</A></TD><TD><A href="..#O">O</A></TD><TD><A href="..#P">P</A></TD><TD><A href="..#Q">Q</A></TD><TD><A href="..#R">R</A></TD><TD><A href="..#S">S</A></TD><TD><A href="..#T">T</A></TD><TD><A href="..#U">U</A></TD><TD><A href="..#V">V</A></TD><TD><A href="..#W">W</A></TD><TD><A href="..#X">X</A></TD><TD><A href="..#Y">Y</A></TD><TD><A href="..#Z">Z</A></TD></TR></TABLE></TD></TR></TABLE>
<P class="time_stamp">
This page was generated on 2023-05-25 05:45:51 -0000 (Thu, 25 May 2023).
</P>
<TABLE class="node_specs">
<TR><TH>Hostname</TH><TH>OS</TH><TH>Arch&nbsp;(*)</TH><TH>R&nbsp;version</TH><TH style="text-align: right;">Installed&nbsp;pkgs</TH></TR>
<TR class="kunpeng2"><TD><B><A href="../kunpeng2-NodeInfo.html"><B>kunpeng2</B></A></B></TD><TD>Linux&nbsp;(openEuler&nbsp;22.03&nbsp;LTS-SP1)</TD><TD>aarch64</TD><TD>4.3.0&nbsp;(2023-04-21)&nbsp;--&nbsp;"Already&nbsp;Tomorrow"
</TD><TD style="text-align: right;"><A href="../kunpeng2-R-instpkgs.html">4223</A></TD></TR>
<TR><TD COLSPAN="5" style="font-size: smaller;"><I>Click on any hostname to see more info about the system (e.g. compilers) &nbsp;&nbsp;&nbsp;&nbsp; (*) as reported by 'uname -p', except on Windows and Mac OS X</I></TD></TR>
</TABLE>
<BR>
<H2><SPAN class="kunpeng2">CHECK results for BufferedMatrix on kunpeng2</SPAN></H2>
<BR>
<DIV class="motd">
<TABLE><TR><TD>
To the developers/maintainers of the BufferedMatrix package:<BR>
- Allow up to 24 hours (and sometimes 48 hours) for your latest push to git@git.bioconductor.org:packages/BufferedMatrix.git to reflect on this report. See <A href="%s">Troubleshooting Build Report</A> for more information.<BR><BR>
- Use the following <A href="../Renviron.bioc">Renviron settings</A> to reproduce errors and warnings.<BR><BR>
Note: If "R CMD check" recently failed on the Linux builder over a missing dependency, add the missing dependency to "Suggests" in your DESCRIPTION file. See the <A href="../Renviron.bioc">Renviron.bioc</A> for details.
</TD></TR></TABLE>
</DIV>
<P style="text-align: center;"><A href="raw-results/">raw results</A><P>
<TABLE class="gcard_list">
<TBODY class="gcard ok">
<TR class="header"><TD class="leftmost top_left_corner"></TD><TD>Package <B>241</B>/2197</TD><TD style="width: 75px;">Hostname</TD><TD style="width: 225px;">OS&nbsp;/&nbsp;Arch</TD><TD class="STAGE install">INSTALL</TD><TD class="STAGE buildsrc">BUILD</TD><TD class="STAGE checksrc selected">CHECK</TD><TD class="STAGE buildbin">BUILD BIN</TD><TD style="width: 12px;"></TD><TD class="rightmost top_right_corner"></TD></TR>
<TR class="selected_row"><TD ROWSPAN="2" class="leftmost bottom_left_corner"></TD><TD ROWSPAN="1" style="vertical-align: top;"><B><A href="./">BufferedMatrix</A>&nbsp;1.65.0</B>&nbsp;&nbsp;<SPAN style="font-size: smaller; font-style: italic;">(<A href="/packages/3.18/BufferedMatrix">landing page</A>)</SPAN><BR>Ben Bolstad<BR><TABLE class="svn_info">
<TR><TD class="svn_info">Snapshot&nbsp;Date:&nbsp;<SPAN class="svn_info">2023-05-24&nbsp;15:28:50&nbsp;-0000&nbsp;(Wed,&nbsp;24&nbsp;May&nbsp;2023)</SPAN></TD></TR>
<TR><TD class="svn_info">git_url:&nbsp;<SPAN class="svn_info">https://git.bioconductor.org/packages/BufferedMatrix</SPAN></TD></TR>
<TR><TD class="svn_info">git_branch:&nbsp;<SPAN class="svn_info">devel</SPAN></TD></TR>
<TR><TD class="svn_info">git_last_commit:&nbsp;<SPAN class="svn_info">5a16207</SPAN></TD></TR>
<TR><TD class="svn_info">git_last_commit_date:&nbsp;<SPAN class="svn_info">2023-04-25&nbsp;13:44:48&nbsp;-0000&nbsp;(Tue,&nbsp;25&nbsp;Apr&nbsp;2023)</SPAN></TD></TR>
</TABLE>
</TD><TD class="kunpeng2 selected"><B>kunpeng2</B></TD><TD class="kunpeng2"><SPAN style="font-size: smaller;">Linux&nbsp;(openEuler&nbsp;22.03&nbsp;LTS-SP1)&nbsp;/&nbsp;aarch64</SPAN></TD><TD class="status kunpeng2 install"><A href="./kunpeng2-install.html" onmouseover="add_class_mouseover(this);" onmouseout="remove_class_mouseover(this);"><SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></A></TD><TD class="status kunpeng2 buildsrc"><A href="./kunpeng2-buildsrc.html" onmouseover="add_class_mouseover(this);" onmouseout="remove_class_mouseover(this);"><SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></A></TD><TD class="status kunpeng2 checksrc selected"><A href="./kunpeng2-checksrc.html" onmouseover="add_class_mouseover(this);" onmouseout="remove_class_mouseover(this);"><SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></A></TD><TD class="status kunpeng2"></TD><TD class="status kunpeng2"></TD><TD ROWSPAN="2" class="rightmost bottom_right_corner"></TD></TR>
<TR class="footer"><TD COLSPAN="8"></TD></TR>
</TBODY>
</TABLE>
<HR>
<H3>Summary</H3>
<DIV class="kunpeng2 hscrollable">
<TABLE>
<TR><TD><B>Package</B>: BufferedMatrix</TD></TR>
<TR><TD><B>Version</B>: 1.65.0</TD></TR>
<TR><TD><B>Command</B>: /home/biocbuild/R/R-4.3.0/bin/R CMD check --install=check:BufferedMatrix.install-out.txt --library=/home/biocbuild/R/R-4.3.0/site-library --timings BufferedMatrix_1.65.0.tar.gz</TD></TR>
<TR><TD><B>StartedAt</B>: 2023-05-25 04:06:05 -0000 (Thu, 25 May 2023)</TD></TR>
<TR><TD><B>EndedAt</B>: 2023-05-25 04:06:33 -0000 (Thu, 25 May 2023)</TD></TR>
<TR><TD><B>EllapsedTime</B>: 28.1 seconds</TD></TR>
<TR><TD><B>RetCode</B>: 0</TD></TR>
<TR><TD><B>Status</B>: <SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></TD></TR>
<TR><TD><B>CheckDir</B>: BufferedMatrix.Rcheck</TD></TR>
<TR><TD><B>Warnings</B>: 0</TD></TR>
</TABLE>
</DIV>
<HR>
<H3>Command output</H3>
<DIV class="kunpeng2 hscrollable">
<PRE style="padding: 3px;">
##############################################################################
##############################################################################
###
### Running command:
###
###   /home/biocbuild/R/R-4.3.0/bin/R CMD check --install=check:BufferedMatrix.install-out.txt --library=/home/biocbuild/R/R-4.3.0/site-library --timings BufferedMatrix_1.65.0.tar.gz
###
##############################################################################
##############################################################################


* using log directory ‘/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck’
* using R version 4.3.0 (2023-04-21)
* using platform: aarch64-unknown-linux-gnu (64-bit)
* R was compiled by
    gcc (GCC) 10.3.1
    GNU Fortran (GCC) 10.3.1
* running under: openEuler 22.03 (LTS-SP1)
* using session charset: UTF-8
* checking for file ‘BufferedMatrix/DESCRIPTION’ ... OK
* this is package ‘BufferedMatrix’ version ‘1.65.0’
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking for sufficient/correct file permissions ... OK
* checking whether package ‘BufferedMatrix’ can be installed ... OK
* used C compiler: ‘gcc (GCC) 10.3.1’
* checking installed package size ... OK
* checking package directory ... OK
* checking ‘build’ directory ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking loading without being on the library search path ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... OK
* checking Rd files ... NOTE
prepare_Rd: createBufferedMatrix.Rd:26: Dropping empty section \keyword
prepare_Rd: createBufferedMatrix.Rd:17-18: Dropping empty section \details
prepare_Rd: createBufferedMatrix.Rd:15-16: Dropping empty section \value
prepare_Rd: createBufferedMatrix.Rd:19-20: Dropping empty section \references
prepare_Rd: createBufferedMatrix.Rd:21-22: Dropping empty section \seealso
prepare_Rd: createBufferedMatrix.Rd:23-24: Dropping empty section \examples
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... OK
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking line endings in C/C++/Fortran sources/headers ... OK
* checking compiled code ... NOTE
Note: information on .o files is not available
* checking files in ‘vignettes’ ... OK
* checking examples ... NONE
* checking for unstated dependencies in ‘tests’ ... OK
* checking tests ...
  Running ‘Rcodetesting.R’
  Running ‘c_code_level_tests.R’
  Running ‘objectTesting.R’
  Running ‘rawCalltesting.R’
 OK
* checking for unstated dependencies in vignettes ... OK
* checking package vignettes in ‘inst/doc’ ... OK
* checking running R code from vignettes ...
  ‘BufferedMatrix.Rnw’... OK
 OK
* checking re-building of vignette outputs ... OK
* checking PDF version of manual ... OK
* DONE

Status: 2 NOTEs
See
  ‘/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/00check.log’
for details.


</PRE>
</DIV><HR>
<H3>Installation output</H3>
<P><SPAN class="filename">BufferedMatrix.Rcheck/00install.out</SPAN></P>
<DIV class="kunpeng2 hscrollable">
<PRE style="padding: 3px;">
##############################################################################
##############################################################################
###
### Running command:
###
###   /home/biocbuild/R/R-4.3.0/bin/R CMD INSTALL BufferedMatrix
###
##############################################################################
##############################################################################


* installing to library ‘/home/biocbuild/R/R-4.3.0/site-library’
* installing *source* package ‘BufferedMatrix’ ...
** using staged installation
** libs
using C compiler: ‘gcc (GCC) 10.3.1’
gcc -I&quot;/home/biocbuild/R/R-4.3.0/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -c RBufferedMatrix.c -o RBufferedMatrix.o
gcc -I&quot;/home/biocbuild/R/R-4.3.0/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -c doubleBufferedMatrix.c -o doubleBufferedMatrix.o
gcc -I&quot;/home/biocbuild/R/R-4.3.0/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -c doubleBufferedMatrix_C_tests.c -o doubleBufferedMatrix_C_tests.o
gcc -I&quot;/home/biocbuild/R/R-4.3.0/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -c init_package.c -o init_package.o
gcc -shared -L/home/biocbuild/R/R-4.3.0/lib -L/usr/local/lib -o BufferedMatrix.so RBufferedMatrix.o doubleBufferedMatrix.o doubleBufferedMatrix_C_tests.o init_package.o -L/home/biocbuild/R/R-4.3.0/lib -lR
installing to /home/biocbuild/R/R-4.3.0/site-library/00LOCK-BufferedMatrix/00new/BufferedMatrix/libs
** R
** inst
** byte-compile and prepare package for lazy loading
Creating a new generic function for ‘rowMeans’ in package ‘BufferedMatrix’
Creating a new generic function for ‘rowSums’ in package ‘BufferedMatrix’
Creating a new generic function for ‘colMeans’ in package ‘BufferedMatrix’
Creating a new generic function for ‘colSums’ in package ‘BufferedMatrix’
Creating a generic function for ‘ncol’ from package ‘base’ in package ‘BufferedMatrix’
Creating a generic function for ‘nrow’ from package ‘base’ in package ‘BufferedMatrix’
** help
*** installing help indices
** building package indices
** installing vignettes
** testing if installed package can be loaded from temporary location
** checking absolute paths in shared objects and dynamic libraries
** testing if installed package can be loaded from final location
** testing if installed package keeps a record of temporary installation path
* DONE (BufferedMatrix)
</PRE>
</DIV><HR>
<H3>Tests output</H3>
<P><SPAN class="filename">BufferedMatrix.Rcheck/tests/c_code_level_tests.Rout</SPAN></P>
<DIV class="kunpeng2 hscrollable">
<PRE style="padding: 3px;">

R version 4.3.0 (2023-04-21) -- &quot;Already Tomorrow&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;, &quot;BufferedMatrix&quot;, .libPaths());.C(&quot;dbm_c_tester&quot;,integer(1))

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

Adding Additional Column
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 1
Buffer Cols: 1
0.000000 1.000000 2.000000 3.000000 4.000000 0.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 0.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 0.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 0.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 0.000000 

Reassigning values
1.000000 6.000000 11.000000 16.000000 21.000000 26.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 27.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 28.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 29.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 30.000000 

Resizing Buffers
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 3
Buffer Cols: 3
1.000000 6.000000 11.000000 16.000000 21.000000 26.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 27.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 28.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 29.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 30.000000 

Activating Row Buffer
In row mode: 1
1.000000 6.000000 11.000000 16.000000 21.000000 26.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 27.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 28.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 29.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 30.000000 

Squaring Last Column
1.000000 6.000000 11.000000 16.000000 21.000000 676.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 729.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 784.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 841.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 900.000000 

Square rooting Last Row, then turing off Row Buffer
In row mode: 0
Checking on value that should be not be in column buffer2.236068 
1.000000 6.000000 11.000000 16.000000 21.000000 676.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 729.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 784.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 841.000000 
2.236068 3.162278 3.872983 4.472136 5.000000 30.000000 

Single Indexing. Assign each value its square
1.000000 36.000000 121.000000 256.000000 441.000000 676.000000 
4.000000 49.000000 144.000000 289.000000 484.000000 729.000000 
9.000000 64.000000 169.000000 324.000000 529.000000 784.000000 
16.000000 81.000000 196.000000 361.000000 576.000000 841.000000 
25.000000 100.000000 225.000000 400.000000 625.000000 900.000000 

Resizing Buffers Smaller
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 1
Buffer Cols: 1
1.000000 36.000000 121.000000 256.000000 441.000000 676.000000 
4.000000 49.000000 144.000000 289.000000 484.000000 729.000000 
9.000000 64.000000 169.000000 324.000000 529.000000 784.000000 
16.000000 81.000000 196.000000 361.000000 576.000000 841.000000 
25.000000 100.000000 225.000000 400.000000 625.000000 900.000000 

Activating Row Mode.
Resizing Buffers
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 1
Buffer Cols: 1
Activating ReadOnly Mode.
The results of assignment is: 0
Printing matrix reversed.
900.000000 625.000000 400.000000 225.000000 100.000000 25.000000 
841.000000 576.000000 361.000000 196.000000 81.000000 16.000000 
784.000000 529.000000 324.000000 169.000000 64.000000 9.000000 
729.000000 484.000000 289.000000 144.000000 49.000000 -30.000000 
676.000000 441.000000 256.000000 121.000000 -20.000000 -10.000000 

[[1]]
[1] 0

&gt; 
&gt; proc.time()
   user  system elapsed 
  0.330   0.033   0.350 
</PRE>
</DIV><P><SPAN class="filename">BufferedMatrix.Rcheck/tests/objectTesting.Rout</SPAN></P>
<DIV class="kunpeng2 hscrollable">
<PRE style="padding: 3px;">

R version 4.3.0 (2023-04-21) -- &quot;Already Tomorrow&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;,&quot;BufferedMatrix&quot;, .libPaths());

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

&gt; 
&gt; 
&gt; ### this is used to control how many repetitions in something below
&gt; ### higher values result in more checks.
&gt; nreps &lt;-100 ##20000
&gt; 
&gt; 
&gt; ## test creation and some simple assignments and subsetting operations
&gt; 
&gt; ## first on single elements
&gt; tmp &lt;- createBufferedMatrix(1000,10)
&gt; 
&gt; tmp[10,5]
[1] 0
&gt; tmp[10,5] &lt;- 10
&gt; tmp[10,5]
[1] 10
&gt; tmp[10,5] &lt;- 12.445
&gt; tmp[10,5]
[1] 12.445
&gt; 
&gt; 
&gt; 
&gt; ## now testing accessing multiple elements
&gt; tmp2 &lt;- createBufferedMatrix(10,20)
&gt; 
&gt; 
&gt; tmp2[3,1] &lt;- 51.34
&gt; tmp2[9,2] &lt;- 9.87654
&gt; tmp2[,1:2]
       [,1]    [,2]
 [1,]  0.00 0.00000
 [2,]  0.00 0.00000
 [3,] 51.34 0.00000
 [4,]  0.00 0.00000
 [5,]  0.00 0.00000
 [6,]  0.00 0.00000
 [7,]  0.00 0.00000
 [8,]  0.00 0.00000
 [9,]  0.00 9.87654
[10,]  0.00 0.00000
&gt; tmp2[,-(3:20)]
       [,1]    [,2]
 [1,]  0.00 0.00000
 [2,]  0.00 0.00000
 [3,] 51.34 0.00000
 [4,]  0.00 0.00000
 [5,]  0.00 0.00000
 [6,]  0.00 0.00000
 [7,]  0.00 0.00000
 [8,]  0.00 0.00000
 [9,]  0.00 9.87654
[10,]  0.00 0.00000
&gt; tmp2[3,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
[1,] 51.34    0    0    0    0    0    0    0    0     0     0     0     0
     [,14] [,15] [,16] [,17] [,18] [,19] [,20]
[1,]     0     0     0     0     0     0     0
&gt; tmp2[-3,]
      [,1]    [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [2,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [3,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [4,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [5,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [6,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [7,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [8,]    0 9.87654    0    0    0    0    0    0    0     0     0     0     0
 [9,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
      [,14] [,15] [,16] [,17] [,18] [,19] [,20]
 [1,]     0     0     0     0     0     0     0
 [2,]     0     0     0     0     0     0     0
 [3,]     0     0     0     0     0     0     0
 [4,]     0     0     0     0     0     0     0
 [5,]     0     0     0     0     0     0     0
 [6,]     0     0     0     0     0     0     0
 [7,]     0     0     0     0     0     0     0
 [8,]     0     0     0     0     0     0     0
 [9,]     0     0     0     0     0     0     0
&gt; tmp2[2,1:3]
     [,1] [,2] [,3]
[1,]    0    0    0
&gt; tmp2[3:9,1:3]
      [,1]    [,2] [,3]
[1,] 51.34 0.00000    0
[2,]  0.00 0.00000    0
[3,]  0.00 0.00000    0
[4,]  0.00 0.00000    0
[5,]  0.00 0.00000    0
[6,]  0.00 0.00000    0
[7,]  0.00 9.87654    0
&gt; tmp2[-4,-4]
       [,1]    [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [2,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [3,] 51.34 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [4,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [5,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [6,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [7,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [8,]  0.00 9.87654    0    0    0    0    0    0    0     0     0     0     0
 [9,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
      [,14] [,15] [,16] [,17] [,18] [,19]
 [1,]     0     0     0     0     0     0
 [2,]     0     0     0     0     0     0
 [3,]     0     0     0     0     0     0
 [4,]     0     0     0     0     0     0
 [5,]     0     0     0     0     0     0
 [6,]     0     0     0     0     0     0
 [7,]     0     0     0     0     0     0
 [8,]     0     0     0     0     0     0
 [9,]     0     0     0     0     0     0
&gt; 
&gt; ## now testing accessing/assigning multiple elements
&gt; tmp3 &lt;- createBufferedMatrix(10,10)
&gt; 
&gt; for (i in 1:10){
+   for (j in 1:10){
+     tmp3[i,j] &lt;- (j-1)*10 + i
+   }
+ }
&gt; 
&gt; tmp3[2:4,2:4]
     [,1] [,2] [,3]
[1,]   12   22   32
[2,]   13   23   33
[3,]   14   24   34
&gt; tmp3[c(-10),c(2:4,2:4,10,1,2,1:10,10:1)]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,]   11   21   31   11   21   31   91    1   11     1    11    21    31
 [2,]   12   22   32   12   22   32   92    2   12     2    12    22    32
 [3,]   13   23   33   13   23   33   93    3   13     3    13    23    33
 [4,]   14   24   34   14   24   34   94    4   14     4    14    24    34
 [5,]   15   25   35   15   25   35   95    5   15     5    15    25    35
 [6,]   16   26   36   16   26   36   96    6   16     6    16    26    36
 [7,]   17   27   37   17   27   37   97    7   17     7    17    27    37
 [8,]   18   28   38   18   28   38   98    8   18     8    18    28    38
 [9,]   19   29   39   19   29   39   99    9   19     9    19    29    39
      [,14] [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25]
 [1,]    41    51    61    71    81    91    91    81    71    61    51    41
 [2,]    42    52    62    72    82    92    92    82    72    62    52    42
 [3,]    43    53    63    73    83    93    93    83    73    63    53    43
 [4,]    44    54    64    74    84    94    94    84    74    64    54    44
 [5,]    45    55    65    75    85    95    95    85    75    65    55    45
 [6,]    46    56    66    76    86    96    96    86    76    66    56    46
 [7,]    47    57    67    77    87    97    97    87    77    67    57    47
 [8,]    48    58    68    78    88    98    98    88    78    68    58    48
 [9,]    49    59    69    79    89    99    99    89    79    69    59    49
      [,26] [,27] [,28] [,29]
 [1,]    31    21    11     1
 [2,]    32    22    12     2
 [3,]    33    23    13     3
 [4,]    34    24    14     4
 [5,]    35    25    15     5
 [6,]    36    26    16     6
 [7,]    37    27    17     7
 [8,]    38    28    18     8
 [9,]    39    29    19     9
&gt; tmp3[-c(1:5),-c(6:10)]
     [,1] [,2] [,3] [,4] [,5]
[1,]    6   16   26   36   46
[2,]    7   17   27   37   47
[3,]    8   18   28   38   48
[4,]    9   19   29   39   49
[5,]   10   20   30   40   50
&gt; 
&gt; ## assignment of whole columns
&gt; tmp3[,1] &lt;- c(1:10*100.0)
&gt; tmp3[,1:2] &lt;- tmp3[,1:2]*100
&gt; tmp3[,1:2] &lt;- tmp3[,2:1]
&gt; tmp3[,1:2]
      [,1]  [,2]
 [1,] 1100 1e+04
 [2,] 1200 2e+04
 [3,] 1300 3e+04
 [4,] 1400 4e+04
 [5,] 1500 5e+04
 [6,] 1600 6e+04
 [7,] 1700 7e+04
 [8,] 1800 8e+04
 [9,] 1900 9e+04
[10,] 2000 1e+05
&gt; 
&gt; 
&gt; tmp3[,-1] &lt;- tmp3[,1:9]
&gt; tmp3[,1:10]
      [,1] [,2]  [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,] 1100 1100 1e+04   21   31   41   51   61   71    81
 [2,] 1200 1200 2e+04   22   32   42   52   62   72    82
 [3,] 1300 1300 3e+04   23   33   43   53   63   73    83
 [4,] 1400 1400 4e+04   24   34   44   54   64   74    84
 [5,] 1500 1500 5e+04   25   35   45   55   65   75    85
 [6,] 1600 1600 6e+04   26   36   46   56   66   76    86
 [7,] 1700 1700 7e+04   27   37   47   57   67   77    87
 [8,] 1800 1800 8e+04   28   38   48   58   68   78    88
 [9,] 1900 1900 9e+04   29   39   49   59   69   79    89
[10,] 2000 2000 1e+05   30   40   50   60   70   80    90
&gt; 
&gt; tmp3[,1:2] &lt;- rep(1,10)
&gt; tmp3[,1:2] &lt;- rep(1,20)
&gt; tmp3[,1:2] &lt;- matrix(c(1:5),1,5)
&gt; 
&gt; tmp3[,-c(1:8)] &lt;- matrix(c(1:5),1,5)
&gt; 
&gt; tmp3[1,] &lt;- 1:10
&gt; tmp3[1,]
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]    1    2    3    4    5    6    7    8    9    10
&gt; tmp3[-1,] &lt;- c(1,2)
&gt; tmp3[1:10,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    2    3    4    5    6    7    8    9    10
 [2,]    1    2    1    2    1    2    1    2    1     2
 [3,]    2    1    2    1    2    1    2    1    2     1
 [4,]    1    2    1    2    1    2    1    2    1     2
 [5,]    2    1    2    1    2    1    2    1    2     1
 [6,]    1    2    1    2    1    2    1    2    1     2
 [7,]    2    1    2    1    2    1    2    1    2     1
 [8,]    1    2    1    2    1    2    1    2    1     2
 [9,]    2    1    2    1    2    1    2    1    2     1
[10,]    1    2    1    2    1    2    1    2    1     2
&gt; tmp3[-c(1:8),] &lt;- matrix(c(1:5),1,5)
&gt; tmp3[1:10,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    2    3    4    5    6    7    8    9    10
 [2,]    1    2    1    2    1    2    1    2    1     2
 [3,]    2    1    2    1    2    1    2    1    2     1
 [4,]    1    2    1    2    1    2    1    2    1     2
 [5,]    2    1    2    1    2    1    2    1    2     1
 [6,]    1    2    1    2    1    2    1    2    1     2
 [7,]    2    1    2    1    2    1    2    1    2     1
 [8,]    1    2    1    2    1    2    1    2    1     2
 [9,]    1    3    5    2    4    1    3    5    2     4
[10,]    2    4    1    3    5    2    4    1    3     5
&gt; 
&gt; 
&gt; tmp3[1:2,1:2] &lt;- 5555.04
&gt; tmp3[-(1:2),1:2] &lt;- 1234.56789
&gt; 
&gt; 
&gt; 
&gt; ## testing accessors for the directory and prefix
&gt; directory(tmp3)
[1] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests&quot;
&gt; prefix(tmp3)
[1] &quot;BM&quot;
&gt; 
&gt; ## testing if we can remove these objects
&gt; rm(tmp, tmp2, tmp3)
&gt; gc()
         used (Mb) gc trigger (Mb) max used (Mb)
Ncells 457525 24.5     981805 52.5   650817 34.8
Vcells 842766  6.5    8388608 64.0  2061567 15.8
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ##
&gt; ## checking reads
&gt; ##
&gt; 
&gt; tmp2 &lt;- createBufferedMatrix(10,20)
&gt; 
&gt; test.sample &lt;- rnorm(10*20)
&gt; 
&gt; tmp2[1:10,1:20] &lt;- test.sample
&gt; 
&gt; test.matrix &lt;- matrix(test.sample,10,20)
&gt; 
&gt; ## testing reads
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   which.col &lt;- sample(1:20,1)
+   if (tmp2[which.row,which.col] != test.matrix[which.row,which.col]){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,1)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; date()
[1] &quot;Thu May 25 04:06:26 2023&quot;
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; date()
[1] &quot;Thu May 25 04:06:26 2023&quot;
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   which.col &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[which.row,which.col] == test.matrix[which.row,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; RowMode(tmp2)
&lt;pointer: 0x390c88a0&gt;
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   which.col &lt;- sample(1:20,1)
+   if (tmp2[which.row,which.col] != test.matrix[which.row,which.col]){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,1)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,5,replace=TRUE)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; date()
[1] &quot;Thu May 25 04:06:27 2023&quot;
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   which.col &lt;- sample(1:20,5,replace=TRUE)
+   if (!all(tmp2[which.row,which.col] == test.matrix[which.row,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; date()
[1] &quot;Thu May 25 04:06:27 2023&quot;
&gt; 
&gt; ColMode(tmp2)
&lt;pointer: 0x390c88a0&gt;
&gt; 
&gt; 
&gt; 
&gt; ### Now testing assignments
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+ 
+   new.data &lt;- rnorm(20)
+   tmp2[which.row,] &lt;- new.data
+   test.matrix[which.row,] &lt;- new.data
+   if (rep &gt; 1){
+     if (!all(tmp2[prev.row,] == test.matrix[prev.row,])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.row &lt;- which.row
+   
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,1)
+   new.data &lt;- rnorm(10)
+   tmp2[,which.col] &lt;- new.data
+   test.matrix[,which.col]&lt;- new.data
+ 
+   if (rep &gt; 1){
+     if (!all(tmp2[,prev.col] == test.matrix[,prev.col])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.col &lt;- which.col
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,5,replace=TRUE)
+   new.data &lt;- matrix(rnorm(50),5,10)
+   tmp2[,which.col] &lt;- new.data
+   test.matrix[,which.col]&lt;- new.data
+   
+   if (rep &gt; 1){
+     if (!all(tmp2[,prev.col] == test.matrix[,prev.col])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.col &lt;- which.col
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   new.data &lt;- matrix(rnorm(50),5,10)
+   tmp2[which.row,] &lt;- new.data
+   test.matrix[which.row,]&lt;- new.data
+   
+   if (rep &gt; 1){
+     if (!all(tmp2[prev.row,] == test.matrix[prev.row,])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.row &lt;- which.row
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   which.col  &lt;- sample(1:20,5,replace=TRUE)
+   new.data &lt;- matrix(rnorm(25),5,5)
+   tmp2[which.row,which.col] &lt;- new.data
+   test.matrix[which.row,which.col]&lt;- new.data
+   
+   if (rep &gt; 1){
+     if (!all(tmp2[prev.row,prev.col] == test.matrix[prev.row,prev.col])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.row &lt;- which.row
+   prev.col &lt;- which.col
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ###
&gt; ###
&gt; ### testing some more functions
&gt; ###
&gt; 
&gt; 
&gt; 
&gt; ## duplication function
&gt; tmp5 &lt;- duplicate(tmp2)
&gt; 
&gt; # making sure really did copy everything.
&gt; tmp5[1,1] &lt;- tmp5[1,1] +100.00
&gt; 
&gt; if (tmp5[1,1] == tmp2[1,1]){
+   stop(&quot;Problem with duplication&quot;)
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ### testing elementwise applying of functions
&gt; 
&gt; tmp5[1:4,1:4]
           [,1]       [,2]       [,3]        [,4]
[1,] 98.9175383  1.0054620  0.8852545 -0.51957490
[2,] -1.2006053 -0.1140859 -1.6363681 -1.08886152
[3,]  0.6202975 -1.6232437  0.9738042 -1.45757892
[4,] -0.9519902 -1.1102467 -0.3907312  0.05642305
&gt; ewApply(tmp5,abs)
BufferedMatrix object
Matrix size:  10 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  2  Kilobytes.
Disk usage :  1.6  Kilobytes.
&gt; tmp5[1:4,1:4]
           [,1]      [,2]      [,3]       [,4]
[1,] 98.9175383 1.0054620 0.8852545 0.51957490
[2,]  1.2006053 0.1140859 1.6363681 1.08886152
[3,]  0.6202975 1.6232437 0.9738042 1.45757892
[4,]  0.9519902 1.1102467 0.3907312 0.05642305
&gt; ewApply(tmp5,sqrt)
BufferedMatrix object
Matrix size:  10 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  2  Kilobytes.
Disk usage :  1.6  Kilobytes.
&gt; tmp5[1:4,1:4]
          [,1]     [,2]      [,3]      [,4]
[1,] 9.9457297 1.002727 0.9408796 0.7208154
[2,] 1.0957213 0.337766 1.2792060 1.0434853
[3,] 0.7875897 1.274066 0.9868152 1.2073023
[4,] 0.9756998 1.053682 0.6250850 0.2375354
&gt; 
&gt; my.function &lt;- function(x,power){
+   (x+5)^power
+ }
&gt; 
&gt; ewApply(tmp5,my.function,power=2)
BufferedMatrix object
Matrix size:  10 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  2  Kilobytes.
Disk usage :  1.6  Kilobytes.
&gt; tmp5[1:4,1:4]
          [,1]     [,2]     [,3]     [,4]
[1,] 223.37483 36.03273 35.29405 32.72773
[2,]  37.15782 28.49175 39.42843 36.52371
[3,]  33.49619 39.36390 35.84196 38.53060
[4,]  35.70899 36.64707 31.64158 27.43178
&gt; 
&gt; 
&gt; 
&gt; ## testing functions that elementwise transform the matrix
&gt; sqrt(tmp5)
&lt;pointer: 0x39b6ecc0&gt;
&gt; exp(tmp5)
&lt;pointer: 0x39b6ecc0&gt;
&gt; log(tmp5,2)
&lt;pointer: 0x39b6ecc0&gt;
&gt; pow(tmp5,2)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ## testing functions that apply to entire matrix
&gt; Max(tmp5)
[1] 464.9255
&gt; Min(tmp5)
[1] 52.94636
&gt; mean(tmp5)
[1] 72.28126
&gt; Sum(tmp5)
[1] 14456.25
&gt; Var(tmp5)
[1] 845.7387
&gt; 
&gt; 
&gt; ## testing functions applied to rows or columns
&gt; 
&gt; rowMeans(tmp5)
 [1] 91.40283 70.27737 72.15068 67.08450 71.26302 72.39472 69.97165 70.29812
 [9] 68.29177 69.67792
&gt; rowSums(tmp5)
 [1] 1828.057 1405.547 1443.014 1341.690 1425.260 1447.894 1399.433 1405.962
 [9] 1365.835 1393.558
&gt; rowVars(tmp5)
 [1] 7764.96459   73.19386   45.65316   64.55909   51.65855   60.72905
 [7]   59.53292   81.53789  120.22541   83.64741
&gt; rowSd(tmp5)
 [1] 88.119036  8.555341  6.756712  8.034867  7.187389  7.792884  7.715758
 [8]  9.029834 10.964735  9.145896
&gt; rowMax(tmp5)
 [1] 464.92545  86.40386  81.93080  80.56211  87.96002  88.11003  86.52610
 [8]  87.22661  96.59411  87.29951
&gt; rowMin(tmp5)
 [1] 62.51230 57.10661 59.82481 53.81069 55.30029 60.26624 59.95431 52.94636
 [9] 52.97329 56.71356
&gt; 
&gt; colMeans(tmp5)
 [1] 108.65496  73.26225  71.76607  69.72935  71.36131  66.13109  73.61610
 [8]  71.07463  72.24652  72.73474  63.87348  73.00953  66.33730  69.38998
[15]  66.77387  72.29723  67.37365  74.75057  70.31496  70.92760
&gt; colSums(tmp5)
 [1] 1086.5496  732.6225  717.6607  697.2935  713.6131  661.3109  736.1610
 [8]  710.7463  722.4652  727.3474  638.7348  730.0953  663.3730  693.8998
[15]  667.7387  722.9723  673.7365  747.5057  703.1496  709.2760
&gt; colVars(tmp5)
 [1] 15703.89080    65.21794    44.40501    83.97645   100.90286   108.70988
 [7]    33.37404    58.12298   129.47531    73.15690    16.51909    91.23780
[13]    34.13912    55.14173    33.80210    83.08241    50.45920    81.78633
[19]    39.59190    86.53706
&gt; colSd(tmp5)
 [1] 125.315166   8.075763   6.663709   9.163867  10.045042  10.426403
 [7]   5.777027   7.623843  11.378722   8.553180   4.064368   9.551848
[13]   5.842869   7.425748   5.813957   9.114955   7.103464   9.043580
[19]   6.292209   9.302530
&gt; colMax(tmp5)
 [1] 464.92545  85.94729  82.06511  80.19640  87.22661  85.30197  82.57696
 [8]  81.46399  89.72365  86.40386  69.82037  88.11003  76.98994  80.52383
[15]  75.04056  86.52610  77.73207  96.59411  80.71725  87.96002
&gt; colMin(tmp5)
 [1] 59.84823 59.30184 61.32873 55.30029 55.13935 53.81069 65.61588 60.26624
 [9] 52.94636 57.64654 57.10661 62.04789 56.60575 59.32400 52.97329 56.10797
[17] 59.09480 66.48774 61.31208 62.51230
&gt; 
&gt; 
&gt; ### setting a random element to NA and then testing with na.rm=TRUE or na.rm=FALSE (The default)
&gt; 
&gt; 
&gt; which.row &lt;- sample(1:10,1,replace=TRUE)
&gt; which.col  &lt;- sample(1:20,1,replace=TRUE)
&gt; 
&gt; tmp5[which.row,which.col] &lt;- NA
&gt; 
&gt; Max(tmp5)
[1] NA
&gt; Min(tmp5)
[1] NA
&gt; mean(tmp5)
[1] NA
&gt; Sum(tmp5)
[1] NA
&gt; Var(tmp5)
[1] NA
&gt; 
&gt; rowMeans(tmp5)
 [1] 91.40283 70.27737 72.15068 67.08450 71.26302 72.39472 69.97165 70.29812
 [9]       NA 69.67792
&gt; rowSums(tmp5)
 [1] 1828.057 1405.547 1443.014 1341.690 1425.260 1447.894 1399.433 1405.962
 [9]       NA 1393.558
&gt; rowVars(tmp5)
 [1] 7764.96459   73.19386   45.65316   64.55909   51.65855   60.72905
 [7]   59.53292   81.53789  100.04346   83.64741
&gt; rowSd(tmp5)
 [1] 88.119036  8.555341  6.756712  8.034867  7.187389  7.792884  7.715758
 [8]  9.029834 10.002173  9.145896
&gt; rowMax(tmp5)
 [1] 464.92545  86.40386  81.93080  80.56211  87.96002  88.11003  86.52610
 [8]  87.22661        NA  87.29951
&gt; rowMin(tmp5)
 [1] 62.51230 57.10661 59.82481 53.81069 55.30029 60.26624 59.95431 52.94636
 [9]       NA 56.71356
&gt; 
&gt; colMeans(tmp5)
 [1] 108.65496  73.26225  71.76607  69.72935  71.36131  66.13109  73.61610
 [8]  71.07463        NA  72.73474  63.87348  73.00953  66.33730  69.38998
[15]  66.77387  72.29723  67.37365  74.75057  70.31496  70.92760
&gt; colSums(tmp5)
 [1] 1086.5496  732.6225  717.6607  697.2935  713.6131  661.3109  736.1610
 [8]  710.7463        NA  727.3474  638.7348  730.0953  663.3730  693.8998
[15]  667.7387  722.9723  673.7365  747.5057  703.1496  709.2760
&gt; colVars(tmp5)
 [1] 15703.89080    65.21794    44.40501    83.97645   100.90286   108.70988
 [7]    33.37404    58.12298          NA    73.15690    16.51909    91.23780
[13]    34.13912    55.14173    33.80210    83.08241    50.45920    81.78633
[19]    39.59190    86.53706
&gt; colSd(tmp5)
 [1] 125.315166   8.075763   6.663709   9.163867  10.045042  10.426403
 [7]   5.777027   7.623843         NA   8.553180   4.064368   9.551848
[13]   5.842869   7.425748   5.813957   9.114955   7.103464   9.043580
[19]   6.292209   9.302530
&gt; colMax(tmp5)
 [1] 464.92545  85.94729  82.06511  80.19640  87.22661  85.30197  82.57696
 [8]  81.46399        NA  86.40386  69.82037  88.11003  76.98994  80.52383
[15]  75.04056  86.52610  77.73207  96.59411  80.71725  87.96002
&gt; colMin(tmp5)
 [1] 59.84823 59.30184 61.32873 55.30029 55.13935 53.81069 65.61588 60.26624
 [9]       NA 57.64654 57.10661 62.04789 56.60575 59.32400 52.97329 56.10797
[17] 59.09480 66.48774 61.31208 62.51230
&gt; 
&gt; Max(tmp5,na.rm=TRUE)
[1] 464.9255
&gt; Min(tmp5,na.rm=TRUE)
[1] 52.94636
&gt; mean(tmp5,na.rm=TRUE)
[1] 72.19361
&gt; Sum(tmp5,na.rm=TRUE)
[1] 14366.53
&gt; Var(tmp5,na.rm=TRUE)
[1] 848.4659
&gt; 
&gt; rowMeans(tmp5,na.rm=TRUE)
 [1] 91.40283 70.27737 72.15068 67.08450 71.26302 72.39472 69.97165 70.29812
 [9] 67.16378 69.67792
&gt; rowSums(tmp5,na.rm=TRUE)
 [1] 1828.057 1405.547 1443.014 1341.690 1425.260 1447.894 1399.433 1405.962
 [9] 1276.112 1393.558
&gt; rowVars(tmp5,na.rm=TRUE)
 [1] 7764.96459   73.19386   45.65316   64.55909   51.65855   60.72905
 [7]   59.53292   81.53789  100.04346   83.64741
&gt; rowSd(tmp5,na.rm=TRUE)
 [1] 88.119036  8.555341  6.756712  8.034867  7.187389  7.792884  7.715758
 [8]  9.029834 10.002173  9.145896
&gt; rowMax(tmp5,na.rm=TRUE)
 [1] 464.92545  86.40386  81.93080  80.56211  87.96002  88.11003  86.52610
 [8]  87.22661  96.59411  87.29951
&gt; rowMin(tmp5,na.rm=TRUE)
 [1] 62.51230 57.10661 59.82481 53.81069 55.30029 60.26624 59.95431 52.94636
 [9] 52.97329 56.71356
&gt; 
&gt; colMeans(tmp5,na.rm=TRUE)
 [1] 108.65496  73.26225  71.76607  69.72935  71.36131  66.13109  73.61610
 [8]  71.07463  70.30461  72.73474  63.87348  73.00953  66.33730  69.38998
[15]  66.77387  72.29723  67.37365  74.75057  70.31496  70.92760
&gt; colSums(tmp5,na.rm=TRUE)
 [1] 1086.5496  732.6225  717.6607  697.2935  713.6131  661.3109  736.1610
 [8]  710.7463  632.7415  727.3474  638.7348  730.0953  663.3730  693.8998
[15]  667.7387  722.9723  673.7365  747.5057  703.1496  709.2760
&gt; colVars(tmp5,na.rm=TRUE)
 [1] 15703.89080    65.21794    44.40501    83.97645   100.90286   108.70988
 [7]    33.37404    58.12298   103.23606    73.15690    16.51909    91.23780
[13]    34.13912    55.14173    33.80210    83.08241    50.45920    81.78633
[19]    39.59190    86.53706
&gt; colSd(tmp5,na.rm=TRUE)
 [1] 125.315166   8.075763   6.663709   9.163867  10.045042  10.426403
 [7]   5.777027   7.623843  10.160515   8.553180   4.064368   9.551848
[13]   5.842869   7.425748   5.813957   9.114955   7.103464   9.043580
[19]   6.292209   9.302530
&gt; colMax(tmp5,na.rm=TRUE)
 [1] 464.92545  85.94729  82.06511  80.19640  87.22661  85.30197  82.57696
 [8]  81.46399  82.44419  86.40386  69.82037  88.11003  76.98994  80.52383
[15]  75.04056  86.52610  77.73207  96.59411  80.71725  87.96002
&gt; colMin(tmp5,na.rm=TRUE)
 [1] 59.84823 59.30184 61.32873 55.30029 55.13935 53.81069 65.61588 60.26624
 [9] 52.94636 57.64654 57.10661 62.04789 56.60575 59.32400 52.97329 56.10797
[17] 59.09480 66.48774 61.31208 62.51230
&gt; 
&gt; # now set an entire row to NA
&gt; 
&gt; tmp5[which.row,] &lt;- NA
&gt; rowMeans(tmp5,na.rm=TRUE)
 [1] 91.40283 70.27737 72.15068 67.08450 71.26302 72.39472 69.97165 70.29812
 [9]      NaN 69.67792
&gt; rowSums(tmp5,na.rm=TRUE)
 [1] 1828.057 1405.547 1443.014 1341.690 1425.260 1447.894 1399.433 1405.962
 [9]    0.000 1393.558
&gt; rowVars(tmp5,na.rm=TRUE)
 [1] 7764.96459   73.19386   45.65316   64.55909   51.65855   60.72905
 [7]   59.53292   81.53789         NA   83.64741
&gt; rowSd(tmp5,na.rm=TRUE)
 [1] 88.119036  8.555341  6.756712  8.034867  7.187389  7.792884  7.715758
 [8]  9.029834        NA  9.145896
&gt; rowMax(tmp5,na.rm=TRUE)
 [1] 464.92545  86.40386  81.93080  80.56211  87.96002  88.11003  86.52610
 [8]  87.22661        NA  87.29951
&gt; rowMin(tmp5,na.rm=TRUE)
 [1] 62.51230 57.10661 59.82481 53.81069 55.30029 60.26624 59.95431 52.94636
 [9]       NA 56.71356
&gt; 
&gt; 
&gt; # now set an entire col to NA
&gt; 
&gt; 
&gt; tmp5[,which.col] &lt;- NA
&gt; colMeans(tmp5,na.rm=TRUE)
 [1] 112.35154  72.77588  72.92577  70.80341  71.99718  66.33309  74.36565
 [8]  71.73007       NaN  72.43872  63.80268  72.52465  67.41858  69.96559
[15]  68.30727  74.09603  68.04180  72.32350  70.54876  71.43590
&gt; colSums(tmp5,na.rm=TRUE)
 [1] 1011.1639  654.9829  656.3320  637.2307  647.9747  596.9978  669.2908
 [8]  645.5707    0.0000  651.9485  574.2241  652.7218  606.7673  629.6903
[15]  614.7654  666.8643  612.3762  650.9115  634.9388  642.9231
&gt; colVars(tmp5,na.rm=TRUE)
 [1] 17513.14897    70.70888    34.82536    81.49527   108.96698   121.83956
 [7]    31.22525    60.55523          NA    81.31565    18.52758    99.99752
[13]    25.25331    58.30712    11.57515    57.06604    51.74432    25.74013
[19]    43.92595    94.44747
&gt; colSd(tmp5,na.rm=TRUE)
 [1] 132.337255   8.408857   5.901302   9.027473  10.438725  11.038096
 [7]   5.587956   7.781724         NA   9.017519   4.304368   9.999876
[13]   5.025267   7.635910   3.402227   7.554207   7.193352   5.073474
[19]   6.627666   9.718409
&gt; colMax(tmp5,na.rm=TRUE)
 [1] 464.92545  85.94729  82.06511  80.19640  87.22661  85.30197  82.57696
 [8]  81.46399      -Inf  86.40386  69.82037  88.11003  76.98994  80.52383
[15]  75.04056  86.52610  77.73207  79.91894  80.71725  87.96002
&gt; colMin(tmp5,na.rm=TRUE)
 [1] 59.84823 59.30184 63.63674 55.30029 55.13935 53.81069 65.61588 60.26624
 [9]      Inf 57.64654 57.10661 62.04789 59.96889 59.32400 65.01644 64.07002
[17] 59.09480 66.48774 61.31208 62.51230
&gt; 
&gt; 
&gt; 
&gt; 
&gt; copymatrix &lt;- matrix(rnorm(200,150,15),10,20)
&gt; 
&gt; tmp5[1:10,1:20] &lt;- copymatrix
&gt; which.row &lt;- 3
&gt; which.col  &lt;- 1
&gt; cat(which.row,&quot; &quot;,which.col,&quot;\n&quot;)
3   1 
&gt; tmp5[which.row,which.col] &lt;- NA
&gt; copymatrix[which.row,which.col] &lt;- NA
&gt; 
&gt; rowVars(tmp5,na.rm=TRUE)
 [1] 221.7928 192.8631 282.5032 197.0386 226.5959 181.6936 213.0825 204.0651
 [9] 191.1736 201.1249
&gt; apply(copymatrix,1,var,na.rm=TRUE)
 [1] 221.7928 192.8631 282.5032 197.0386 226.5959 181.6936 213.0825 204.0651
 [9] 191.1736 201.1249
&gt; 
&gt; 
&gt; 
&gt; copymatrix &lt;- matrix(rnorm(200,150,15),10,20)
&gt; 
&gt; tmp5[1:10,1:20] &lt;- copymatrix
&gt; which.row &lt;- 1
&gt; which.col  &lt;- 3
&gt; cat(which.row,&quot; &quot;,which.col,&quot;\n&quot;)
1   3 
&gt; tmp5[which.row,which.col] &lt;- NA
&gt; copymatrix[which.row,which.col] &lt;- NA
&gt; 
&gt; colVars(tmp5,na.rm=TRUE)-apply(copymatrix,2,var,na.rm=TRUE)
 [1]  0.000000e+00 -1.705303e-13 -5.684342e-14  2.842171e-14  2.273737e-13
 [6]  1.421085e-14 -5.684342e-14 -1.705303e-13  2.273737e-13  0.000000e+00
[11]  1.705303e-13  1.136868e-13  8.526513e-14  5.684342e-14  1.705303e-13
[16]  0.000000e+00  5.684342e-14 -5.684342e-14  2.842171e-14  1.421085e-13
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ## making sure these things agree
&gt; ##
&gt; ## first when there is no NA
&gt; 
&gt; 
&gt; 
&gt; agree.checks &lt;- function(buff.matrix,r.matrix,err.tol=1e-10){
+ 
+   if (Max(buff.matrix,na.rm=TRUE) != max(r.matrix,na.rm=TRUE)){
+     stop(&quot;No agreement in Max&quot;)
+   }
+   
+ 
+   if (Min(buff.matrix,na.rm=TRUE) != min(r.matrix,na.rm=TRUE)){
+     stop(&quot;No agreement in Min&quot;)
+   }
+ 
+ 
+   if (abs(Sum(buff.matrix,na.rm=TRUE)- sum(r.matrix,na.rm=TRUE)) &gt; err.tol){
+ 
+     cat(Sum(buff.matrix,na.rm=TRUE),&quot;\n&quot;)
+     cat(sum(r.matrix,na.rm=TRUE),&quot;\n&quot;)
+     cat(Sum(buff.matrix,na.rm=TRUE) - sum(r.matrix,na.rm=TRUE),&quot;\n&quot;)
+     
+     stop(&quot;No agreement in Sum&quot;)
+   }
+   
+   if (abs(mean(buff.matrix,na.rm=TRUE) - mean(r.matrix,na.rm=TRUE)) &gt; err.tol){
+     stop(&quot;No agreement in mean&quot;)
+   }
+   
+   
+   if(abs(Var(buff.matrix,na.rm=TRUE) - var(as.vector(r.matrix),na.rm=TRUE)) &gt; err.tol){
+     stop(&quot;No agreement in Var&quot;)
+   }
+   
+   
+ 
+   if(any(abs(rowMeans(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,mean,na.rm=TRUE)) &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowMeans&quot;)
+   }
+   
+   
+   if(any(abs(colMeans(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,mean,na.rm=TRUE))&gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMeans&quot;)
+   }
+   
+   
+   if(any(abs(rowSums(buff.matrix,na.rm=TRUE)  -  apply(r.matrix,1,sum,na.rm=TRUE))&gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowSums&quot;)
+   }
+   
+   
+   if(any(abs(colSums(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,sum,na.rm=TRUE))&gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colSums&quot;)
+   }
+   
+   ### this is to get around the fact that R doesn&#x27;t like to compute NA on an entire vector of NA when 
+   ### computing variance
+   my.Var &lt;- function(x,na.rm=FALSE){
+    if (all(is.na(x))){
+      return(NA)
+    } else {
+      var(x,na.rm=na.rm)
+    }
+ 
+   }
+   
+   if(any(abs(rowVars(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,my.Var,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowVars&quot;)
+   }
+   
+   
+   if(any(abs(colVars(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,my.Var,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowVars&quot;)
+   }
+ 
+ 
+   if(any(abs(rowMax(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,max,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMax&quot;)
+   }
+   
+ 
+   if(any(abs(colMax(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,max,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMax&quot;)
+   }
+   
+   
+   
+   if(any(abs(rowMin(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,min,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMin&quot;)
+   }
+   
+ 
+   if(any(abs(colMin(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,min,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMin&quot;)
+   }
+ 
+   if(any(abs(colMedians(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,median,na.rm=TRUE)) &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMedian&quot;)
+   }
+ 
+   if(any(abs(colRanges(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,range,na.rm=TRUE)) &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colRanges&quot;)
+   }
+ 
+ 
+   
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:20){
+   copymatrix &lt;- matrix(rnorm(200,150,15),10,20)
+   
+   tmp5[1:10,1:20] &lt;- copymatrix
+ 
+ 
+   agree.checks(tmp5,copymatrix)
+   
+   ## now lets assign some NA values and check agreement
+ 
+   which.row &lt;- sample(1:10,1,replace=TRUE)
+   which.col  &lt;- sample(1:20,1,replace=TRUE)
+   
+   cat(which.row,&quot; &quot;,which.col,&quot;\n&quot;)
+   
+   tmp5[which.row,which.col] &lt;- NA
+   copymatrix[which.row,which.col] &lt;- NA
+   
+   agree.checks(tmp5,copymatrix)
+ 
+   ## make an entire row NA
+   tmp5[which.row,] &lt;- NA
+   copymatrix[which.row,] &lt;- NA
+ 
+ 
+   agree.checks(tmp5,copymatrix)
+   
+   ### also make an entire col NA
+   tmp5[,which.col] &lt;- NA
+   copymatrix[,which.col] &lt;- NA
+ 
+   agree.checks(tmp5,copymatrix)
+ 
+   ### now make 1 element non NA with NA in the rest of row and column
+ 
+   tmp5[which.row,which.col] &lt;- rnorm(1,150,15)
+   copymatrix[which.row,which.col] &lt;- tmp5[which.row,which.col]
+ 
+   agree.checks(tmp5,copymatrix)
+ }
7   9 
3   1 
5   9 
9   10 
1   5 
5   18 
1   9 
2   3 
7   2 
6   4 
10   1 
9   14 
10   11 
9   17 
6   18 
5   19 
6   7 
5   1 
10   4 
10   4 
There were 50 or more warnings (use warnings() to see the first 50)
&gt; 
&gt; 
&gt; ### now test 1 by n and n by 1 matrix
&gt; 
&gt; 
&gt; err.tol &lt;- 1e-12
&gt; 
&gt; rm(tmp5)
&gt; 
&gt; dataset1 &lt;- rnorm(100)
&gt; dataset2 &lt;- rnorm(100)
&gt; 
&gt; tmp &lt;- createBufferedMatrix(1,100)
&gt; tmp[1,] &lt;- dataset1
&gt; 
&gt; tmp2 &lt;- createBufferedMatrix(100,1)
&gt; tmp2[,1] &lt;- dataset2
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Max(tmp)
[1] 2.36066
&gt; Min(tmp)
[1] -2.199915
&gt; mean(tmp)
[1] -0.1520304
&gt; Sum(tmp)
[1] -15.20304
&gt; Var(tmp)
[1] 1.002584
&gt; 
&gt; rowMeans(tmp)
[1] -0.1520304
&gt; rowSums(tmp)
[1] -15.20304
&gt; rowVars(tmp)
[1] 1.002584
&gt; rowSd(tmp)
[1] 1.001291
&gt; rowMax(tmp)
[1] 2.36066
&gt; rowMin(tmp)
[1] -2.199915
&gt; 
&gt; colMeans(tmp)
  [1]  0.857616725  0.235184106 -1.145293883  1.012861440 -0.352278155
  [6] -1.774017026  0.950067801  0.155623760 -1.241160240  0.121907572
 [11] -1.366220177 -0.051848309  1.711294743  0.444940536  1.012890923
 [16]  0.979835640 -2.034304068 -0.040435263 -0.968390410  0.428991214
 [21]  0.204250225 -0.098464048 -0.574401283 -0.818104543  0.396629522
 [26]  0.399715421 -0.112124256 -0.857043790 -0.830381752 -1.490240967
 [31]  0.428373782 -0.695955869  0.038166785  0.442433384 -1.495281981
 [36] -0.692807810  1.644867100  0.296724290 -0.490265429  0.497118668
 [41] -1.830093666  1.614798510 -0.564288980  0.603776195  1.025577585
 [46]  0.839233606  1.321438232 -0.013910919  1.300701495  1.021896029
 [51]  0.128414553 -0.396116006 -0.091719015 -0.261651815 -1.154098995
 [56] -1.077601178  0.327355226  0.534708798  1.085843997 -1.616571723
 [61] -0.166375524 -2.199914833  1.089187163 -1.140683275 -1.953036016
 [66] -0.045771880  0.006601994 -0.376376282 -1.348713534 -0.567661988
 [71] -1.938455138  0.927515457  1.178486393 -0.595548768  0.563106159
 [76] -1.017779018 -0.393018579  0.464460812  0.424997202 -0.041219560
 [81] -0.507158496 -1.040481100  0.007867424  0.676978464 -1.096875888
 [86] -0.329448555  0.628965989 -1.971724291  1.875076139  1.184802313
 [91] -1.570561252  0.193259891 -1.336802313 -0.427717994 -0.624438067
 [96] -1.016831796 -1.380140913  2.360660339 -0.900592502 -0.725841265
&gt; colSums(tmp)
  [1]  0.857616725  0.235184106 -1.145293883  1.012861440 -0.352278155
  [6] -1.774017026  0.950067801  0.155623760 -1.241160240  0.121907572
 [11] -1.366220177 -0.051848309  1.711294743  0.444940536  1.012890923
 [16]  0.979835640 -2.034304068 -0.040435263 -0.968390410  0.428991214
 [21]  0.204250225 -0.098464048 -0.574401283 -0.818104543  0.396629522
 [26]  0.399715421 -0.112124256 -0.857043790 -0.830381752 -1.490240967
 [31]  0.428373782 -0.695955869  0.038166785  0.442433384 -1.495281981
 [36] -0.692807810  1.644867100  0.296724290 -0.490265429  0.497118668
 [41] -1.830093666  1.614798510 -0.564288980  0.603776195  1.025577585
 [46]  0.839233606  1.321438232 -0.013910919  1.300701495  1.021896029
 [51]  0.128414553 -0.396116006 -0.091719015 -0.261651815 -1.154098995
 [56] -1.077601178  0.327355226  0.534708798  1.085843997 -1.616571723
 [61] -0.166375524 -2.199914833  1.089187163 -1.140683275 -1.953036016
 [66] -0.045771880  0.006601994 -0.376376282 -1.348713534 -0.567661988
 [71] -1.938455138  0.927515457  1.178486393 -0.595548768  0.563106159
 [76] -1.017779018 -0.393018579  0.464460812  0.424997202 -0.041219560
 [81] -0.507158496 -1.040481100  0.007867424  0.676978464 -1.096875888
 [86] -0.329448555  0.628965989 -1.971724291  1.875076139  1.184802313
 [91] -1.570561252  0.193259891 -1.336802313 -0.427717994 -0.624438067
 [96] -1.016831796 -1.380140913  2.360660339 -0.900592502 -0.725841265
&gt; colVars(tmp)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; colSd(tmp)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; colMax(tmp)
  [1]  0.857616725  0.235184106 -1.145293883  1.012861440 -0.352278155
  [6] -1.774017026  0.950067801  0.155623760 -1.241160240  0.121907572
 [11] -1.366220177 -0.051848309  1.711294743  0.444940536  1.012890923
 [16]  0.979835640 -2.034304068 -0.040435263 -0.968390410  0.428991214
 [21]  0.204250225 -0.098464048 -0.574401283 -0.818104543  0.396629522
 [26]  0.399715421 -0.112124256 -0.857043790 -0.830381752 -1.490240967
 [31]  0.428373782 -0.695955869  0.038166785  0.442433384 -1.495281981
 [36] -0.692807810  1.644867100  0.296724290 -0.490265429  0.497118668
 [41] -1.830093666  1.614798510 -0.564288980  0.603776195  1.025577585
 [46]  0.839233606  1.321438232 -0.013910919  1.300701495  1.021896029
 [51]  0.128414553 -0.396116006 -0.091719015 -0.261651815 -1.154098995
 [56] -1.077601178  0.327355226  0.534708798  1.085843997 -1.616571723
 [61] -0.166375524 -2.199914833  1.089187163 -1.140683275 -1.953036016
 [66] -0.045771880  0.006601994 -0.376376282 -1.348713534 -0.567661988
 [71] -1.938455138  0.927515457  1.178486393 -0.595548768  0.563106159
 [76] -1.017779018 -0.393018579  0.464460812  0.424997202 -0.041219560
 [81] -0.507158496 -1.040481100  0.007867424  0.676978464 -1.096875888
 [86] -0.329448555  0.628965989 -1.971724291  1.875076139  1.184802313
 [91] -1.570561252  0.193259891 -1.336802313 -0.427717994 -0.624438067
 [96] -1.016831796 -1.380140913  2.360660339 -0.900592502 -0.725841265
&gt; colMin(tmp)
  [1]  0.857616725  0.235184106 -1.145293883  1.012861440 -0.352278155
  [6] -1.774017026  0.950067801  0.155623760 -1.241160240  0.121907572
 [11] -1.366220177 -0.051848309  1.711294743  0.444940536  1.012890923
 [16]  0.979835640 -2.034304068 -0.040435263 -0.968390410  0.428991214
 [21]  0.204250225 -0.098464048 -0.574401283 -0.818104543  0.396629522
 [26]  0.399715421 -0.112124256 -0.857043790 -0.830381752 -1.490240967
 [31]  0.428373782 -0.695955869  0.038166785  0.442433384 -1.495281981
 [36] -0.692807810  1.644867100  0.296724290 -0.490265429  0.497118668
 [41] -1.830093666  1.614798510 -0.564288980  0.603776195  1.025577585
 [46]  0.839233606  1.321438232 -0.013910919  1.300701495  1.021896029
 [51]  0.128414553 -0.396116006 -0.091719015 -0.261651815 -1.154098995
 [56] -1.077601178  0.327355226  0.534708798  1.085843997 -1.616571723
 [61] -0.166375524 -2.199914833  1.089187163 -1.140683275 -1.953036016
 [66] -0.045771880  0.006601994 -0.376376282 -1.348713534 -0.567661988
 [71] -1.938455138  0.927515457  1.178486393 -0.595548768  0.563106159
 [76] -1.017779018 -0.393018579  0.464460812  0.424997202 -0.041219560
 [81] -0.507158496 -1.040481100  0.007867424  0.676978464 -1.096875888
 [86] -0.329448555  0.628965989 -1.971724291  1.875076139  1.184802313
 [91] -1.570561252  0.193259891 -1.336802313 -0.427717994 -0.624438067
 [96] -1.016831796 -1.380140913  2.360660339 -0.900592502 -0.725841265
&gt; colMedians(tmp)
  [1]  0.857616725  0.235184106 -1.145293883  1.012861440 -0.352278155
  [6] -1.774017026  0.950067801  0.155623760 -1.241160240  0.121907572
 [11] -1.366220177 -0.051848309  1.711294743  0.444940536  1.012890923
 [16]  0.979835640 -2.034304068 -0.040435263 -0.968390410  0.428991214
 [21]  0.204250225 -0.098464048 -0.574401283 -0.818104543  0.396629522
 [26]  0.399715421 -0.112124256 -0.857043790 -0.830381752 -1.490240967
 [31]  0.428373782 -0.695955869  0.038166785  0.442433384 -1.495281981
 [36] -0.692807810  1.644867100  0.296724290 -0.490265429  0.497118668
 [41] -1.830093666  1.614798510 -0.564288980  0.603776195  1.025577585
 [46]  0.839233606  1.321438232 -0.013910919  1.300701495  1.021896029
 [51]  0.128414553 -0.396116006 -0.091719015 -0.261651815 -1.154098995
 [56] -1.077601178  0.327355226  0.534708798  1.085843997 -1.616571723
 [61] -0.166375524 -2.199914833  1.089187163 -1.140683275 -1.953036016
 [66] -0.045771880  0.006601994 -0.376376282 -1.348713534 -0.567661988
 [71] -1.938455138  0.927515457  1.178486393 -0.595548768  0.563106159
 [76] -1.017779018 -0.393018579  0.464460812  0.424997202 -0.041219560
 [81] -0.507158496 -1.040481100  0.007867424  0.676978464 -1.096875888
 [86] -0.329448555  0.628965989 -1.971724291  1.875076139  1.184802313
 [91] -1.570561252  0.193259891 -1.336802313 -0.427717994 -0.624438067
 [96] -1.016831796 -1.380140913  2.360660339 -0.900592502 -0.725841265
&gt; colRanges(tmp)
          [,1]      [,2]      [,3]     [,4]       [,5]      [,6]      [,7]
[1,] 0.8576167 0.2351841 -1.145294 1.012861 -0.3522782 -1.774017 0.9500678
[2,] 0.8576167 0.2351841 -1.145294 1.012861 -0.3522782 -1.774017 0.9500678
          [,8]     [,9]     [,10]    [,11]       [,12]    [,13]     [,14]
[1,] 0.1556238 -1.24116 0.1219076 -1.36622 -0.05184831 1.711295 0.4449405
[2,] 0.1556238 -1.24116 0.1219076 -1.36622 -0.05184831 1.711295 0.4449405
        [,15]     [,16]     [,17]       [,18]      [,19]     [,20]     [,21]
[1,] 1.012891 0.9798356 -2.034304 -0.04043526 -0.9683904 0.4289912 0.2042502
[2,] 1.012891 0.9798356 -2.034304 -0.04043526 -0.9683904 0.4289912 0.2042502
           [,22]      [,23]      [,24]     [,25]     [,26]      [,27]
[1,] -0.09846405 -0.5744013 -0.8181045 0.3966295 0.3997154 -0.1121243
[2,] -0.09846405 -0.5744013 -0.8181045 0.3966295 0.3997154 -0.1121243
          [,28]      [,29]     [,30]     [,31]      [,32]      [,33]     [,34]
[1,] -0.8570438 -0.8303818 -1.490241 0.4283738 -0.6959559 0.03816679 0.4424334
[2,] -0.8570438 -0.8303818 -1.490241 0.4283738 -0.6959559 0.03816679 0.4424334
         [,35]      [,36]    [,37]     [,38]      [,39]     [,40]     [,41]
[1,] -1.495282 -0.6928078 1.644867 0.2967243 -0.4902654 0.4971187 -1.830094
[2,] -1.495282 -0.6928078 1.644867 0.2967243 -0.4902654 0.4971187 -1.830094
        [,42]     [,43]     [,44]    [,45]     [,46]    [,47]       [,48]
[1,] 1.614799 -0.564289 0.6037762 1.025578 0.8392336 1.321438 -0.01391092
[2,] 1.614799 -0.564289 0.6037762 1.025578 0.8392336 1.321438 -0.01391092
        [,49]    [,50]     [,51]     [,52]       [,53]      [,54]     [,55]
[1,] 1.300701 1.021896 0.1284146 -0.396116 -0.09171901 -0.2616518 -1.154099
[2,] 1.300701 1.021896 0.1284146 -0.396116 -0.09171901 -0.2616518 -1.154099
         [,56]     [,57]     [,58]    [,59]     [,60]      [,61]     [,62]
[1,] -1.077601 0.3273552 0.5347088 1.085844 -1.616572 -0.1663755 -2.199915
[2,] -1.077601 0.3273552 0.5347088 1.085844 -1.616572 -0.1663755 -2.199915
        [,63]     [,64]     [,65]       [,66]       [,67]      [,68]     [,69]
[1,] 1.089187 -1.140683 -1.953036 -0.04577188 0.006601994 -0.3763763 -1.348714
[2,] 1.089187 -1.140683 -1.953036 -0.04577188 0.006601994 -0.3763763 -1.348714
         [,70]     [,71]     [,72]    [,73]      [,74]     [,75]     [,76]
[1,] -0.567662 -1.938455 0.9275155 1.178486 -0.5955488 0.5631062 -1.017779
[2,] -0.567662 -1.938455 0.9275155 1.178486 -0.5955488 0.5631062 -1.017779
          [,77]     [,78]     [,79]       [,80]      [,81]     [,82]
[1,] -0.3930186 0.4644608 0.4249972 -0.04121956 -0.5071585 -1.040481
[2,] -0.3930186 0.4644608 0.4249972 -0.04121956 -0.5071585 -1.040481
           [,83]     [,84]     [,85]      [,86]    [,87]     [,88]    [,89]
[1,] 0.007867424 0.6769785 -1.096876 -0.3294486 0.628966 -1.971724 1.875076
[2,] 0.007867424 0.6769785 -1.096876 -0.3294486 0.628966 -1.971724 1.875076
        [,90]     [,91]     [,92]     [,93]     [,94]      [,95]     [,96]
[1,] 1.184802 -1.570561 0.1932599 -1.336802 -0.427718 -0.6244381 -1.016832
[2,] 1.184802 -1.570561 0.1932599 -1.336802 -0.427718 -0.6244381 -1.016832
         [,97]   [,98]      [,99]     [,100]
[1,] -1.380141 2.36066 -0.9005925 -0.7258413
[2,] -1.380141 2.36066 -0.9005925 -0.7258413
&gt; 
&gt; 
&gt; Max(tmp2)
[1] 2.215471
&gt; Min(tmp2)
[1] -3.134457
&gt; mean(tmp2)
[1] -0.006336233
&gt; Sum(tmp2)
[1] -0.6336233
&gt; Var(tmp2)
[1] 1.182757
&gt; 
&gt; rowMeans(tmp2)
  [1] -1.68855661 -0.33455468 -0.78755090 -0.91762096 -0.69034263  0.78007493
  [7]  0.03026036 -0.51742857 -1.60042295  0.70364019  1.47935781 -1.31756781
 [13] -0.30444450 -1.75573490  0.39195748  0.25425845 -0.04550175 -0.72335644
 [19]  0.53777091 -1.48097851 -0.38677101 -0.32933534 -1.84600434 -0.10337624
 [25] -1.11424834  1.59739333 -1.04307930  0.49302189  0.74023156  0.03213633
 [31] -0.18373490 -0.97908086  0.66530458 -0.82172864  0.68060408 -0.18901748
 [37] -0.07578886  0.10093140  0.50508542 -0.07002311  0.61184549  1.50371044
 [43]  1.23072944 -0.33891693 -2.35389323  2.14487931 -1.35747278  0.35559210
 [49]  0.52720399  0.72267554  1.77336966  0.59612345 -0.34212576  0.18450546
 [55]  1.39372059 -1.19764163  0.97405087 -0.59415506 -0.65975074 -3.13445724
 [61]  0.32469922  0.57957953  1.84540916 -1.30159627  1.87430644  0.14627544
 [67] -0.30857578  0.68800195 -0.01265350  1.49323066  0.40549712 -0.90649165
 [73] -0.05419650  0.91462876  0.74986748 -0.47227036 -1.98764639 -1.68944297
 [79]  0.53172051  1.69344016  1.39616049  0.28133453  0.72226659 -1.67797189
 [85]  0.32797688 -0.13349893 -0.70017176  0.31282260  0.38955057  0.09639075
 [91]  1.04768332  1.64082660 -1.40960369  0.38508413  2.21547122  0.64534798
 [97] -2.03585617 -1.41109489  1.33368140 -0.29957802
&gt; rowSums(tmp2)
  [1] -1.68855661 -0.33455468 -0.78755090 -0.91762096 -0.69034263  0.78007493
  [7]  0.03026036 -0.51742857 -1.60042295  0.70364019  1.47935781 -1.31756781
 [13] -0.30444450 -1.75573490  0.39195748  0.25425845 -0.04550175 -0.72335644
 [19]  0.53777091 -1.48097851 -0.38677101 -0.32933534 -1.84600434 -0.10337624
 [25] -1.11424834  1.59739333 -1.04307930  0.49302189  0.74023156  0.03213633
 [31] -0.18373490 -0.97908086  0.66530458 -0.82172864  0.68060408 -0.18901748
 [37] -0.07578886  0.10093140  0.50508542 -0.07002311  0.61184549  1.50371044
 [43]  1.23072944 -0.33891693 -2.35389323  2.14487931 -1.35747278  0.35559210
 [49]  0.52720399  0.72267554  1.77336966  0.59612345 -0.34212576  0.18450546
 [55]  1.39372059 -1.19764163  0.97405087 -0.59415506 -0.65975074 -3.13445724
 [61]  0.32469922  0.57957953  1.84540916 -1.30159627  1.87430644  0.14627544
 [67] -0.30857578  0.68800195 -0.01265350  1.49323066  0.40549712 -0.90649165
 [73] -0.05419650  0.91462876  0.74986748 -0.47227036 -1.98764639 -1.68944297
 [79]  0.53172051  1.69344016  1.39616049  0.28133453  0.72226659 -1.67797189
 [85]  0.32797688 -0.13349893 -0.70017176  0.31282260  0.38955057  0.09639075
 [91]  1.04768332  1.64082660 -1.40960369  0.38508413  2.21547122  0.64534798
 [97] -2.03585617 -1.41109489  1.33368140 -0.29957802
&gt; rowVars(tmp2)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; rowSd(tmp2)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; rowMax(tmp2)
  [1] -1.68855661 -0.33455468 -0.78755090 -0.91762096 -0.69034263  0.78007493
  [7]  0.03026036 -0.51742857 -1.60042295  0.70364019  1.47935781 -1.31756781
 [13] -0.30444450 -1.75573490  0.39195748  0.25425845 -0.04550175 -0.72335644
 [19]  0.53777091 -1.48097851 -0.38677101 -0.32933534 -1.84600434 -0.10337624
 [25] -1.11424834  1.59739333 -1.04307930  0.49302189  0.74023156  0.03213633
 [31] -0.18373490 -0.97908086  0.66530458 -0.82172864  0.68060408 -0.18901748
 [37] -0.07578886  0.10093140  0.50508542 -0.07002311  0.61184549  1.50371044
 [43]  1.23072944 -0.33891693 -2.35389323  2.14487931 -1.35747278  0.35559210
 [49]  0.52720399  0.72267554  1.77336966  0.59612345 -0.34212576  0.18450546
 [55]  1.39372059 -1.19764163  0.97405087 -0.59415506 -0.65975074 -3.13445724
 [61]  0.32469922  0.57957953  1.84540916 -1.30159627  1.87430644  0.14627544
 [67] -0.30857578  0.68800195 -0.01265350  1.49323066  0.40549712 -0.90649165
 [73] -0.05419650  0.91462876  0.74986748 -0.47227036 -1.98764639 -1.68944297
 [79]  0.53172051  1.69344016  1.39616049  0.28133453  0.72226659 -1.67797189
 [85]  0.32797688 -0.13349893 -0.70017176  0.31282260  0.38955057  0.09639075
 [91]  1.04768332  1.64082660 -1.40960369  0.38508413  2.21547122  0.64534798
 [97] -2.03585617 -1.41109489  1.33368140 -0.29957802
&gt; rowMin(tmp2)
  [1] -1.68855661 -0.33455468 -0.78755090 -0.91762096 -0.69034263  0.78007493
  [7]  0.03026036 -0.51742857 -1.60042295  0.70364019  1.47935781 -1.31756781
 [13] -0.30444450 -1.75573490  0.39195748  0.25425845 -0.04550175 -0.72335644
 [19]  0.53777091 -1.48097851 -0.38677101 -0.32933534 -1.84600434 -0.10337624
 [25] -1.11424834  1.59739333 -1.04307930  0.49302189  0.74023156  0.03213633
 [31] -0.18373490 -0.97908086  0.66530458 -0.82172864  0.68060408 -0.18901748
 [37] -0.07578886  0.10093140  0.50508542 -0.07002311  0.61184549  1.50371044
 [43]  1.23072944 -0.33891693 -2.35389323  2.14487931 -1.35747278  0.35559210
 [49]  0.52720399  0.72267554  1.77336966  0.59612345 -0.34212576  0.18450546
 [55]  1.39372059 -1.19764163  0.97405087 -0.59415506 -0.65975074 -3.13445724
 [61]  0.32469922  0.57957953  1.84540916 -1.30159627  1.87430644  0.14627544
 [67] -0.30857578  0.68800195 -0.01265350  1.49323066  0.40549712 -0.90649165
 [73] -0.05419650  0.91462876  0.74986748 -0.47227036 -1.98764639 -1.68944297
 [79]  0.53172051  1.69344016  1.39616049  0.28133453  0.72226659 -1.67797189
 [85]  0.32797688 -0.13349893 -0.70017176  0.31282260  0.38955057  0.09639075
 [91]  1.04768332  1.64082660 -1.40960369  0.38508413  2.21547122  0.64534798
 [97] -2.03585617 -1.41109489  1.33368140 -0.29957802
&gt; 
&gt; colMeans(tmp2)
[1] -0.006336233
&gt; colSums(tmp2)
[1] -0.6336233
&gt; colVars(tmp2)
[1] 1.182757
&gt; colSd(tmp2)
[1] 1.087546
&gt; colMax(tmp2)
[1] 2.215471
&gt; colMin(tmp2)
[1] -3.134457
&gt; colMedians(tmp2)
[1] 0.06426354
&gt; colRanges(tmp2)
          [,1]
[1,] -3.134457
[2,]  2.215471
&gt; 
&gt; dataset1 &lt;- matrix(dataset1,1,100)
&gt; 
&gt; agree.checks(tmp,dataset1)
&gt; 
&gt; dataset2 &lt;- matrix(dataset2,100,1)
&gt; agree.checks(tmp2,dataset2)
&gt;   
&gt; 
&gt; tmp &lt;- createBufferedMatrix(10,10)
&gt; 
&gt; tmp[1:10,1:10] &lt;- rnorm(100)
&gt; colApply(tmp,sum)
 [1] -2.6945608  1.9656735  3.6731835 -0.2918258 -1.9539634 -1.2262579
 [7] -2.9099942  1.1016053  7.5388076  2.0112518
&gt; colApply(tmp,quantile)[,1]
           [,1]
[1,] -1.5437286
[2,] -1.0024433
[3,] -0.1758066
[4,]  0.4915661
[5,]  0.7620094
&gt; 
&gt; rowApply(tmp,sum)
 [1] -0.2783950  0.3610723 -3.0851624  2.4161633 -1.6682028  2.5982504
 [7] -3.5831404  4.2279824  0.6391032  5.5862485
&gt; rowApply(tmp,rank)[1:10,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    9    5    4    6    1    2    3    7    2     5
 [2,]    7    8    7    7    2    3    6   10    5     2
 [3,]    2    6    9    8   10    9    9    1    4     4
 [4,]    5    1    6    3    7    8   10    3    1     9
 [5,]    1   10    3    2    8    4    8    4   10     1
 [6,]    8    3    1    5    6    1    7    6    3     3
 [7,]    3    7    5    1    4    6    2    2    9     6
 [8,]   10    4    2    4    3    7    1    5    6    10
 [9,]    4    9   10    9    9   10    4    9    7     7
[10,]    6    2    8   10    5    5    5    8    8     8
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; 
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; colApply(tmp,sum)
 [1] -0.2573527  3.7010077  1.6121954 -6.1836880  1.6071128  0.9520215
 [7]  0.1511551 -0.4806215 -2.1269963 -0.9833890 -6.0517596  2.1138924
[13]  1.9791936 -0.2957281 -1.3306591 -0.4293063 -0.2928091  0.7488828
[19]  2.1965383 -0.3781003
&gt; colApply(tmp,quantile)[,1]
           [,1]
[1,] -1.9660562
[2,] -0.5739661
[3,]  0.1064277
[4,]  0.6632937
[5,]  1.5129480
&gt; 
&gt; rowApply(tmp,sum)
[1]  -2.330788   7.564615   2.975984  -1.467296 -10.490925
&gt; rowApply(tmp,rank)[1:5,]
     [,1] [,2] [,3] [,4] [,5]
[1,]   18    4   10   18    3
[2,]   20   12    3   14   20
[3,]   11   14   18    9   15
[4,]   12    8    1    1    2
[5,]   10   16   19   19    4
&gt; 
&gt; 
&gt; as.matrix(tmp)
           [,1]       [,2]        [,3]       [,4]       [,5]       [,6]
[1,]  1.5129480  1.7916375 -0.31616770 -0.0869543 -0.3612756  0.3794941
[2,] -0.5739661  0.6305247  0.65339350  0.1748439  0.8455301  0.4907430
[3,]  0.1064277 -0.7910953  1.07089497 -1.1920470  1.8436816  0.1952401
[4,]  0.6632937  0.5226512 -0.05483468 -2.0986191  0.7717047 -0.6093540
[5,] -1.9660562  1.5472894  0.25890932 -2.9809115 -1.4925278  0.4958983
           [,7]       [,8]       [,9]      [,10]      [,11]       [,12]
[1,]  0.3043108  0.7065166  0.0163770 -1.1882288 -0.7083317  0.97135779
[2,]  1.1539866  0.8005374 -0.7504276  0.1681076 -1.3785751  1.63500409
[3,] -1.1046471 -0.1579588  0.1362911 -0.7273934 -0.1443197  0.40033957
[4,]  0.3942767 -0.9062942 -1.6870214  0.5923029 -0.8280104  0.08824409
[5,] -0.5967719 -0.9234225  0.1577845  0.1718227 -2.9925228 -0.98105310
          [,13]       [,14]        [,15]      [,16]        [,17]      [,18]
[1,] -0.6738171 -0.46518812 -0.560436712 -1.0618917 -1.650585472 -1.7029628
[2,]  0.6439543 -1.06941368  0.008070272  0.1259729  0.623849989  2.0345953
[3,]  2.0518966  0.59306568 -0.268572779  0.3386549  0.463652482 -0.4910216
[4,] -0.5869146  0.59684642  0.156570649  0.5932642 -0.004490216  1.8835274
[5,]  0.5440746  0.04896158 -0.666290499 -0.4253065  0.274764113 -0.9752555
          [,19]      [,20]
[1,]  1.5233651 -0.7609545
[2,]  0.8997268  0.4481566
[3,] -0.3187684  0.9716633
[4,] -0.6797244 -0.2747148
[5,]  0.7719392 -0.7622509
&gt; 
&gt; 
&gt; is.BufferedMatrix(tmp)
[1] TRUE
&gt; 
&gt; as.BufferedMatrix(as.matrix(tmp))
BufferedMatrix object
Matrix size:  5 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  1.9  Kilobytes.
Disk usage :  800  bytes.
&gt; 
&gt; 
&gt; 
&gt; subBufferedMatrix(tmp,1:5,1:5)
BufferedMatrix object
Matrix size:  5 5 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  654  bytes.
Disk usage :  200  bytes.
&gt; subBufferedMatrix(tmp,,5:8)
BufferedMatrix object
Matrix size:  5 4 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  566  bytes.
Disk usage :  160  bytes.
&gt; subBufferedMatrix(tmp,1:3,)
BufferedMatrix object
Matrix size:  3 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  1.9  Kilobytes.
Disk usage :  480  bytes.
&gt; 
&gt; 
&gt; rm(tmp)
&gt; 
&gt; 
&gt; ###
&gt; ### Testing colnames and rownames
&gt; ###
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; 
&gt; 
&gt; colnames(tmp)
NULL
&gt; rownames(tmp)
NULL
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; colnames(tmp)
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;
&gt; rownames(tmp)
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;
&gt; 
&gt; 
&gt; tmp[&quot;row1&quot;,]
          col1     col2      col3     col4       col5      col6       col7
row1 0.8740657 -1.10236 0.7036431 1.037482 -0.9076916 0.5318723 -0.3579787
         col8      col9     col10       col11    col12      col13      col14
row1 2.537247 0.8977412 -0.275255 -0.04239387 1.220877 -0.7103529 0.03189492
        col15      col16     col17      col18     col19    col20
row1 0.443638 -0.7300601 0.8244559 -0.5511865 0.7877521 1.440701
&gt; tmp[,&quot;col10&quot;]
          col10
row1 -0.2752550
row2  1.2034763
row3  0.8251688
row4  0.2287421
row5  1.4078780
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),]
           col1      col2       col3     col4       col5       col6       col7
row1  0.8740657 -1.102360  0.7036431 1.037482 -0.9076916  0.5318723 -0.3579787
row5 -1.6551186 -0.895769 -0.1594812 2.409473 -0.7094981 -0.4421391  0.3652219
           col8       col9     col10       col11    col12      col13
row1  2.5372475  0.8977412 -0.275255 -0.04239387 1.220877 -0.7103529
row5 -0.3967212 -1.0109367  1.407878  1.83276293 0.395161 -0.5196906
           col14      col15      col16     col17      col18     col19     col20
row1  0.03189492  0.4436380 -0.7300601 0.8244559 -0.5511865 0.7877521  1.440701
row5 -0.60422445 -0.1402622 -0.4322362 1.0446611 -1.7098631 0.3188998 -1.297904
&gt; tmp[,c(&quot;col6&quot;,&quot;col20&quot;)]
           col6      col20
row1  0.5318723  1.4407011
row2 -0.1503871 -0.4619084
row3  0.9026498  0.3624010
row4  1.2804009  2.3055693
row5 -0.4421391 -1.2979041
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;)]
           col6     col20
row1  0.5318723  1.440701
row5 -0.4421391 -1.297904
&gt; 
&gt; 
&gt; 
&gt; 
&gt; tmp[&quot;row1&quot;,] &lt;- rnorm(20,mean=10)
&gt; tmp[,&quot;col10&quot;] &lt;- rnorm(5,mean=30)
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),] &lt;- rnorm(40,mean=50)
&gt; tmp[,c(&quot;col6&quot;,&quot;col20&quot;)] &lt;- rnorm(10,mean=75)
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;)]  &lt;- rnorm(4,mean=105)
&gt; 
&gt; tmp[&quot;row1&quot;,]
         col1    col2     col3     col4     col5     col6     col7     col8
row1 49.87638 49.9485 51.58116 51.11625 50.35529 104.8601 50.50304 48.79078
         col9    col10    col11    col12    col13    col14    col15    col16
row1 50.39491 48.48204 49.81139 46.60754 50.90411 49.98792 51.44835 49.05122
        col17    col18    col19    col20
row1 51.59357 49.98446 49.68947 104.9599
&gt; tmp[,&quot;col10&quot;]
        col10
row1 48.48204
row2 31.10924
row3 29.56041
row4 29.34381
row5 49.97911
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),]
         col1     col2     col3     col4     col5     col6     col7     col8
row1 49.87638 49.94850 51.58116 51.11625 50.35529 104.8601 50.50304 48.79078
row5 50.51004 49.68235 49.74230 51.00694 51.28646 104.9177 48.41386 49.33117
         col9    col10    col11    col12    col13    col14    col15    col16
row1 50.39491 48.48204 49.81139 46.60754 50.90411 49.98792 51.44835 49.05122
row5 50.23960 49.97911 50.57546 50.08860 50.62744 51.49476 51.09172 50.84957
        col17    col18    col19    col20
row1 51.59357 49.98446 49.68947 104.9599
row5 48.48959 49.99237 49.52563 104.2450
&gt; tmp[,c(&quot;col6&quot;,&quot;col20&quot;)]
          col6     col20
row1 104.86009 104.95990
row2  73.89085  75.34300
row3  73.69502  75.80276
row4  74.80703  75.37555
row5 104.91767 104.24498
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;)]
         col6    col20
row1 104.8601 104.9599
row5 104.9177 104.2450
&gt; 
&gt; 
&gt; subBufferedMatrix(tmp,c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;))[1:2,1:2]
         col6    col20
row1 104.8601 104.9599
row5 104.9177 104.2450
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; 
&gt; tmp[,&quot;col13&quot;]
          col13
[1,]  0.9233919
[2,] -0.1964086
[3,] -0.6619806
[4,]  0.8834399
[5,]  0.2571395
&gt; tmp[,c(&quot;col17&quot;,&quot;col7&quot;)]
          col17        col7
[1,]  0.7827912  1.56865360
[2,] -1.2653662  1.71766279
[3,] -1.2584682 -0.49364309
[4,]  1.0076006 -0.05704536
[5,]  1.4595798 -0.33017390
&gt; 
&gt; subBufferedMatrix(tmp,,c(&quot;col6&quot;,&quot;col20&quot;))[,1:2]
           col6       col20
[1,]  0.7660933  0.22997219
[2,] -1.7173070 -0.40632770
[3,] -1.4702200  0.03099391
[4,] -0.2333253 -0.19293580
[5,]  0.1727487  0.79408934
&gt; subBufferedMatrix(tmp,1,c(&quot;col6&quot;))[,1]
          col1
[1,] 0.7660933
&gt; subBufferedMatrix(tmp,1:2,c(&quot;col6&quot;))[,1]
           col6
[1,]  0.7660933
[2,] -1.7173070
&gt; 
&gt; 
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; subBufferedMatrix(tmp,c(&quot;row3&quot;,&quot;row1&quot;),)[,1:20]
           [,1]       [,2]       [,3]       [,4]       [,5]      [,6]
row3  0.3234826 -0.4758030 -0.9170134 1.83505987  0.9586354 -1.023313
row1 -1.3249702 -0.3563291  0.1257916 0.03110032 -1.0851798 -0.209528
           [,7]      [,8]       [,9]      [,10]      [,11]       [,12]
row3  1.1712121 0.4862198 -0.1058095 -1.5623863 -0.9782132 -0.41079017
row1 -0.2912163 0.2445963 -0.5800005  0.9977774 -1.4000026  0.03102479
           [,13]      [,14]      [,15]      [,16]     [,17]     [,18]     [,19]
row3 -0.05830797 -2.0487044  0.7315928 -1.3920881 -1.194892 1.2137593 0.7322981
row1  1.87138687 -0.9723561 -1.3282648 -0.5512267  0.289868 0.2807365 0.3267923
           [,20]
row3 -0.37067297
row1 -0.06739425
&gt; subBufferedMatrix(tmp,c(&quot;row2&quot;),1:10)[,1:10]
          [,1]     [,2]       [,3]      [,4]     [,5]      [,6]      [,7]
row2 0.8437119 1.700449 -0.8115617 -1.716936 2.085896 0.0448618 0.4576815
          [,8]      [,9]     [,10]
row2 -1.400954 0.5381738 0.6209663
&gt; subBufferedMatrix(tmp,c(&quot;row5&quot;),1:20)[,1:20]
          [,1]      [,2]     [,3]     [,4]      [,5]     [,6]       [,7]
row5 0.3710849 -1.591324 1.997162 1.785167 -1.953132 1.173677 -0.2763017
           [,8]      [,9]     [,10]      [,11]    [,12]      [,13]       [,14]
row5 -0.2152301 0.5573292 -1.131803 -0.4481581 0.278236 -0.5217888 -0.02451961
         [,15]     [,16]     [,17]    [,18]    [,19]    [,20]
row5 0.6011718 0.4568942 -1.287001 0.987023 0.786429 0.122875
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; colnames(tmp)
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;
&gt; rownames(tmp)
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- NULL
&gt; rownames(tmp) &lt;- NULL
&gt; 
&gt; colnames(tmp)
NULL
&gt; rownames(tmp)
NULL
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; dimnames(tmp)
[[1]]
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;

[[2]]
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;

&gt; 
&gt; dimnames(tmp) &lt;- NULL
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; dimnames(tmp)
[[1]]
NULL

[[2]]
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;

&gt; 
&gt; 
&gt; dimnames(tmp) &lt;- NULL
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; dimnames(tmp)
[[1]]
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;

[[2]]
NULL

&gt; 
&gt; dimnames(tmp) &lt;- list(NULL,c(colnames(tmp,do.NULL=FALSE)))
&gt; dimnames(tmp)
[[1]]
NULL

[[2]]
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;

&gt; 
&gt; 
&gt; 
&gt; ###
&gt; ### Testing logical indexing
&gt; ###
&gt; ###
&gt; 
&gt; tmp &lt;- createBufferedMatrix(230,15)
&gt; tmp[1:230,1:15] &lt;- rnorm(230*15)
&gt; x &lt;-tmp[1:230,1:15]  
&gt; 
&gt; for (rep in 1:10){
+   which.cols &lt;- sample(c(TRUE,FALSE),15,replace=T)
+   which.rows &lt;- sample(c(TRUE,FALSE),230,replace=T)
+   
+   if (!all(tmp[which.rows,which.cols] == x[which.rows,which.cols])){
+     stop(&quot;No agreement when logical indexing\n&quot;)
+   }
+   
+   if (!all(subBufferedMatrix(tmp,,which.cols)[,1:sum(which.cols)] ==  x[,which.cols])){
+     stop(&quot;No agreement when logical indexing in subBufferedMatrix cols\n&quot;)
+   }
+   if (!all(subBufferedMatrix(tmp,which.rows,)[1:sum(which.rows),] ==  x[which.rows,])){
+     stop(&quot;No agreement when logical indexing in subBufferedMatrix rows\n&quot;)
+   }
+   
+   
+   if (!all(subBufferedMatrix(tmp,which.rows,which.cols)[1:sum(which.rows),1:sum(which.cols)]==  x[which.rows,which.cols])){
+     stop(&quot;No agreement when logical indexing in subBufferedMatrix rows and columns\n&quot;)
+   }
+ }
&gt; 
&gt; 
&gt; ##
&gt; ## Test the ReadOnlyMode
&gt; ##
&gt; 
&gt; ReadOnlyMode(tmp)
&lt;pointer: 0x3a92c8b0&gt;
&gt; is.ReadOnlyMode(tmp)
[1] TRUE
&gt; 
&gt; filenames(tmp)
 [1] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e680c6198&quot;
 [2] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e47c05364&quot;
 [3] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e3a69eccd&quot;
 [4] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e1115f9a&quot; 
 [5] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e1c399729&quot;
 [6] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e3541cf18&quot;
 [7] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e11c2183c&quot;
 [8] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562ec8c18e9&quot; 
 [9] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e21097297&quot;
[10] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562ed722f03&quot; 
[11] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e6970fce0&quot;
[12] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e146a750b&quot;
[13] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e2d34c9d5&quot;
[14] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e56aece05&quot;
[15] &quot;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests/BM33562e4079ea74&quot;
&gt; 
&gt; 
&gt; ### testing coercion functions
&gt; ###
&gt; 
&gt; tmp &lt;- as(tmp,&quot;matrix&quot;)
&gt; tmp &lt;- as(tmp,&quot;BufferedMatrix&quot;)
&gt; 
&gt; 
&gt; 
&gt; ### testing whether can move storage from one location to another
&gt; 
&gt; MoveStorageDirectory(tmp,&quot;NewDirectory&quot;,full.path=FALSE)
&lt;pointer: 0x38b633a0&gt;
&gt; MoveStorageDirectory(tmp,getwd(),full.path=TRUE)
&lt;pointer: 0x38b633a0&gt;
Warning message:
In dir.create(new.directory) :
  &#x27;/home/biocbuild/bbs-3.18-bioc/meat/BufferedMatrix.Rcheck/tests&#x27; already exists
&gt; 
&gt; 
&gt; RowMode(tmp)
&lt;pointer: 0x38b633a0&gt;
&gt; rowMedians(tmp)
  [1]  0.553632440 -0.003356767  0.102012549 -0.062514095  0.339952228
  [6] -0.121394087 -0.102320351 -0.184734327 -0.527434271  0.610787012
 [11] -0.197595857 -0.017705597  0.023193453  0.160621728  0.153171354
 [16]  0.237820104  0.008289731 -0.119579733  0.320308487  0.239466137
 [21] -0.014157701 -0.384560530  0.214256762 -0.002637052 -0.266211549
 [26] -0.133801987  0.145612269 -0.768719192  0.560520156  0.039003297
 [31]  0.181618609  0.125654182 -0.067168020  0.228625790 -0.207845641
 [36]  0.642145310  0.157414202 -0.054414157  0.070475519  0.047546516
 [41]  0.168622523  0.119389499 -0.293274635 -0.262690736  0.207643246
 [46]  0.292606174  0.310816551  0.024609519 -0.024162064 -0.132623512
 [51]  0.266805661  0.008086497 -0.426816371 -0.456492407 -0.139368402
 [56] -0.470185483  0.063436315 -0.036793257 -0.086393257  0.148951791
 [61] -0.053157747 -0.275427570 -0.479237646 -0.230716513 -0.737174880
 [66] -0.245359587  0.587991401  0.782955795 -0.232621257 -0.065469523
 [71]  0.070047927  0.143231626  0.573516286  0.069809097 -0.025293696
 [76] -0.129892721  0.036280266  0.102260383  0.252496576 -0.056523785
 [81]  0.584473260 -0.162309732 -0.456918807 -0.284328277 -0.045352644
 [86]  0.486808471  0.134826219 -0.141480252  0.233216428  0.685050377
 [91]  0.189231968  0.639336496  0.386315460 -0.095635270  0.793212644
 [96]  0.089827794 -0.659206011  0.320129352 -0.490435902  0.305321983
[101]  0.502870005  0.248159898 -0.143252676 -0.140932667 -0.079884840
[106] -0.231413767  0.399038536  0.493538510 -0.527214047  0.195514820
[111]  0.066984824 -0.259561001 -0.021853938  0.045211338  0.088897310
[116]  0.193781696 -0.218789777  0.377586664  0.366122273  0.221654969
[121] -0.407861182  0.496239541 -0.171371106  0.399715919 -0.086953101
[126] -0.138909200  0.799786776  0.149929814  0.027596607  0.552150694
[131] -0.214849181  0.031415553  0.106226790 -0.108822647  0.247730146
[136] -0.294079437  0.412537615  0.529976655  0.021452652 -0.232783088
[141]  0.240569546  0.006186096 -0.045104736 -0.653555965  0.009250563
[146]  0.074293203 -0.420923079 -0.338543602 -0.476752451  0.047432305
[151] -0.348550485 -0.149924018  0.054406061 -0.243836288  0.070843205
[156]  0.268822175 -0.362216848  0.072937536 -0.512583835 -0.675529475
[161]  0.189888447  0.397882715 -0.178072618 -0.464295416  0.516819458
[166] -0.129615008  0.501242460 -0.609929072 -0.123245648  0.024488398
[171]  0.166487486  0.374366488 -0.288574971 -0.093289855 -0.034029727
[176]  0.462646119  0.300804026 -0.188646767 -0.204946983  0.473322413
[181] -0.206153886  0.189102782  0.233156758 -0.248520900  0.138298535
[186] -0.067171120  0.106969072  0.218136546 -0.211840772  0.233090852
[191]  0.117229539 -0.137521882  0.345666307  0.207319228 -0.184968596
[196] -0.121169123 -0.158266801 -0.127894001 -0.251775612  0.130790981
[201]  0.241560801  0.182589531  0.116009208 -0.205299373  0.111279208
[206]  0.038752771  0.693891721  0.452263943  0.055952419  0.271692869
[211] -0.001105673  0.084752986  0.002705633 -0.162621974 -0.514201202
[216]  0.507399273  0.504996400  0.100655411  0.231809878  0.191090152
[221] -0.312165449 -0.796888242  0.258084231 -0.087918672 -0.191423543
[226]  0.700164513  0.189887287 -0.181676614 -0.410641869 -0.523131458
&gt; 
&gt; proc.time()
   user  system elapsed 
  2.023   0.848   2.893 
</PRE>
</DIV><P><SPAN class="filename">BufferedMatrix.Rcheck/tests/rawCalltesting.Rout</SPAN></P>
<DIV class="kunpeng2 hscrollable">
<PRE style="padding: 3px;">

R version 4.3.0 (2023-04-21) -- &quot;Already Tomorrow&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;,&quot;BufferedMatrix&quot;, .libPaths());

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

&gt; 
&gt; prefix &lt;- &quot;dbmtest&quot;
&gt; directory &lt;- getwd()
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_Test_C&quot;,P)
RBufferedMatrix
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xa3088a0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xa3088a0&gt;
&gt; .Call(&quot;R_bm_Test_C&quot;,P)
RBufferedMatrix
Checking dimensions
Rows: 5
Cols: 10
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xa3088a0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 10
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 1.000000 2.000000 3.000000 4.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 0.000000 0.000000 0.000000 0.000000 0.000000 

&lt;pointer: 0xa3088a0&gt;
&gt; rm(P)
&gt; 
&gt; #P &lt;- .Call(&quot;R_bm_Destroy&quot;,P)
&gt; #.Call(&quot;R_bm_Destroy&quot;,P)
&gt; #.Call(&quot;R_bm_Test_C&quot;,P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,5)
[1] TRUE
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 0
Buffer Rows: 1
Buffer Cols: 1

Printing Values






&lt;pointer: 0xadc4500&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xadc4500&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 1
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 
0.000000 
0.000000 
0.000000 
0.000000 

&lt;pointer: 0xadc4500&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xadc4500&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xadc4500&gt;
&gt; rm(P)
&gt; 
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,5)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xbdbadb0&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xbdbadb0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xbdbadb0&gt;
&gt; 
&gt; .Call(&quot;R_bm_ResizeBuffer&quot;,P,5,5)
&lt;pointer: 0xbdbadb0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 5
Buffer Cols: 5

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xbdbadb0&gt;
&gt; 
&gt; .Call(&quot;R_bm_RowMode&quot;,P)
&lt;pointer: 0xbdbadb0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 5
Buffer Cols: 5

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xbdbadb0&gt;
&gt; 
&gt; .Call(&quot;R_bm_ColMode&quot;,P)
&lt;pointer: 0xbdbadb0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 5
Buffer Cols: 5

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xbdbadb0&gt;
&gt; rm(P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,10)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xab01140&gt;
&gt; .Call(&quot;R_bm_SetPrefix&quot;,P,&quot;BufferedMatrixFile&quot;)
&lt;pointer: 0xab01140&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xab01140&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xab01140&gt;
&gt; dir(pattern=&quot;BufferedMatrixFile&quot;)
[1] &quot;BufferedMatrixFile3356c17fe39be8&quot; &quot;BufferedMatrixFile3356c1bdc3af5&quot; 
&gt; rm(P)
&gt; dir(pattern=&quot;BufferedMatrixFile&quot;)
[1] &quot;BufferedMatrixFile3356c17fe39be8&quot; &quot;BufferedMatrixFile3356c1bdc3af5&quot; 
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,10)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaa52320&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaa52320&gt;
&gt; .Call(&quot;R_bm_ReadOnlyModeToggle&quot;,P)
&lt;pointer: 0xaa52320&gt;
&gt; .Call(&quot;R_bm_isReadOnlyMode&quot;,P)
[1] TRUE
&gt; .Call(&quot;R_bm_ReadOnlyModeToggle&quot;,P)
&lt;pointer: 0xaa52320&gt;
&gt; .Call(&quot;R_bm_isReadOnlyMode&quot;,P)
[1] FALSE
&gt; .Call(&quot;R_bm_isRowMode&quot;,P)
[1] FALSE
&gt; .Call(&quot;R_bm_RowMode&quot;,P)
&lt;pointer: 0xaa52320&gt;
&gt; .Call(&quot;R_bm_isRowMode&quot;,P)
[1] TRUE
&gt; .Call(&quot;R_bm_ColMode&quot;,P)
&lt;pointer: 0xaa52320&gt;
&gt; .Call(&quot;R_bm_isRowMode&quot;,P)
[1] FALSE
&gt; rm(P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,10)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0x9df8430&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0x9df8430&gt;
&gt; 
&gt; .Call(&quot;R_bm_getSize&quot;,P)
[1] 10  2
&gt; .Call(&quot;R_bm_getBufferSize&quot;,P)
[1] 1 1
&gt; .Call(&quot;R_bm_ResizeBuffer&quot;,P,5,5)
&lt;pointer: 0x9df8430&gt;
&gt; 
&gt; .Call(&quot;R_bm_getBufferSize&quot;,P)
[1] 5 5
&gt; .Call(&quot;R_bm_ResizeBuffer&quot;,P,-1,5)
&lt;pointer: 0x9df8430&gt;
&gt; rm(P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_Test_C&quot;,P)
RBufferedMatrix
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xc60ae10&gt;
&gt; .Call(&quot;R_bm_getValue&quot;,P,3,3)
[1] 6
&gt; 
&gt; .Call(&quot;R_bm_getValue&quot;,P,100000,10000)
[1] NA
&gt; .Call(&quot;R_bm_setValue&quot;,P,3,3,12345.0)
[1] TRUE
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 12345.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xc60ae10&gt;
&gt; rm(P)
&gt; 
&gt; proc.time()
   user  system elapsed 
  0.340   0.020   0.349 
</PRE>
</DIV><P><SPAN class="filename">BufferedMatrix.Rcheck/tests/Rcodetesting.Rout</SPAN></P>
<DIV class="kunpeng2 hscrollable">
<PRE style="padding: 3px;">

R version 4.3.0 (2023-04-21) -- &quot;Already Tomorrow&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;,&quot;BufferedMatrix&quot;, .libPaths());

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

&gt; 
&gt; Temp &lt;- createBufferedMatrix(100)
&gt; dim(Temp)
[1] 100   0
&gt; buffer.dim(Temp)
[1] 1 1
&gt; 
&gt; 
&gt; proc.time()
   user  system elapsed 
  0.309   0.034   0.330 
</PRE>
</DIV><HR>
<H3>Example timings</H3>
</BODY>
</HTML>
